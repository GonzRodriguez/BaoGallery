(this.webpackJsonpbaogallery=this.webpackJsonpbaogallery||[]).push([[0],{137:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchPost",(function(){return Vt})),a.d(n,"fetchPosts",(function(){return $t})),a.d(n,"getProfile",(function(){return Qt})),a.d(n,"search",(function(){return Xt})),a.d(n,"uploadImage",(function(){return ea})),a.d(n,"createPost",(function(){return ta})),a.d(n,"signup",(function(){return aa})),a.d(n,"login",(function(){return na})),a.d(n,"getlogin",(function(){return ra})),a.d(n,"logout",(function(){return ca})),a.d(n,"editProfile",(function(){return ia})),a.d(n,"likePost",(function(){return oa})),a.d(n,"updatePost",(function(){return sa})),a.d(n,"deletePost",(function(){return la}));var r=a(0),c=a.n(r),i=a(12),o=a.n(i),s=(a(137),a(14)),l=a.n(s),u=a(21),d=a(8),j=a(230),b=a(22),h=a.n(b);function p(){var e=localStorage.getItem("refreshToken");return e?h.a.post("/api/is-auth",e,{headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"https://localhost:5000",Authorization:"Bearer ".concat(e)}}).then((function(e){return 202===e.status?(localStorage.setItem("refreshToken",e.data.token),{auth:!0,user:e.data.user,isLoading:!1}):(localStorage.clear(),{auth:!1,user:null,isLoading:!1})})).catch((function(e){console.log(e)})):{auth:!1,user:null,isLoading:!1}}var m=a(23),O=a(69),g=a(68),f=a(202),x=a(203),v=a(204),y=a(36),w=a(175),k=a(205),C=Object(r.createContext)(),I=a(58),N=a.n(I),S=a(113),P=a.n(S),A=a(57),W=a.n(A),D=a(1),T=Object(f.a)((function(e){return{search:{position:"relative"},searchIcon:{padding:e.spacing(0,1),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),dropDownMenu:{position:"absolute",zIndex:"100",width:"90%",right:0},menuItem:{backgroundColor:e.palette.grey[200],"&:hover":{backgroundColor:e.palette.grey[300],zIndex:5}}}}));function R(e){var t=T(),a=Object(r.useContext)(C),n=Object(r.useState)([]),c=Object(d.a)(n,2),i=c[0],o=c[1],s=Object(r.useState)([]),j=Object(d.a)(s,2),b=j[0],h=j[1],p=Object(r.useState)(""),m=Object(d.a)(p,2),f=m[0],I=m[1],S=Object(r.useState)([]),A=Object(d.a)(S,2),R=A[0],L=A[1],q=Object(r.useState)(!1),F=Object(d.a)(q,2),U=F[0],B=F[1],z=function(e){return e.filter((function(e){return e.includes(f)}))},E=function(e){return new Set(e)};return Object(r.useEffect)((function(){f&&Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.search(f);case 2:t=e.sent,n=t.data,L(n),B(!0);case 6:case"end":return e.stop()}}),e)})))(),U||(h([]),o([]))}),[f]),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:t.search,children:[Object(D.jsx)(w.a,{placeholder:"Search\u2026",classes:{root:e.styleName},value:f,onChange:function(e){I(e.target.value.toLowerCase())},onKeyDown:function(){o([]),h([]),function(e){if(f.length){var a=[];e.map((function(e){return e.tags.map((function(e){return a.push(e)}))}));var n,r=e.map((function(e){return e.creator})),c=e.map((function(e){return e.imgCollection})),s=z(r),l=z(c),u=z(a),d=E(s),j=E(l),b=E(u),p=Object(g.a)(d);try{var m=function(){var e=n.value;e.length>1&&o((function(t){return[].concat(Object(O.a)(t),[{type:"profile",value:e,icon:Object(D.jsx)(P.a,{})}])}))};for(p.s();!(n=p.n()).done;)m()}catch(q){p.e(q)}finally{p.f()}var w,k=Object(g.a)(j);try{var C=function(){var e=w.value;e.length>1&&o((function(t){return[].concat(Object(O.a)(t),[{type:"collection",value:e,icon:Object(D.jsx)(W.a,{})}])}))};for(k.s();!(w=k.n()).done;)C()}catch(q){k.e(q)}finally{k.f()}var I,S=Object(g.a)(b);try{var A=function(){var e=I.value;e.length>1&&o((function(t){return[].concat(Object(O.a)(t),[{type:"tags",value:e,icon:Object(D.jsx)(N.a,{})}])}))};for(S.s();!(I=S.n()).done;)A()}catch(q){S.e(q)}finally{S.f()}var T,R=Object(g.a)(i.values());try{var L=function(){var e=T.value;h((function(a){return[].concat(Object(O.a)(a),[Object(D.jsx)(x.a,{className:t.menuItem,children:Object(D.jsx)(v.a,{href:"/".concat(e.type,"/").concat(e.value),color:"inherit",variant:"button",children:Object(D.jsxs)(y.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"},variant:"button",children:[e.icon,"\xa0",e.value]})})},e.value)])}))};for(R.s();!(T=R.n()).done;)L()}catch(q){R.e(q)}finally{R.f()}}}(R)},inputProps:{"aria-label":"search"}}),Object(D.jsx)(k.a,{onClickAway:function(){B(!1),I("")},children:Object(D.jsx)("div",{className:t.dropDownMenu,children:b})})]})})}var L=a(16),q=a(30),F=a(208),U=a(211),B=a(212),z=a(173),E=Object(r.createContext)(),M=Object(r.createContext)(),_=a(206),G=a(207);var H=function(){var e=Object(r.useContext)(C),t=Object(r.useContext)(M),a=function(){var a=Object(u.a)(l.a.mark((function a(){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n=e.logout({userId:t._id}).then((function(e){return e})),console.log(n),localStorage.clear(),window.location="/login"}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(D.jsxs)(_.a,{children:[Object(D.jsx)(G.a,{}),Object(D.jsxs)(x.a,{onClick:function(){return a()},children:[" ",Object(D.jsx)("div",{children:"Logout"})," "]})]})},Z=a(114),K=a.n(Z),Y=a(209),J=a(238),V=[{key:0,menuTitle:"Home",pageURL:"/"},{key:1,menuTitle:"About",pageURL:"/about"},{key:2,menuTitle:"Login",pageURL:"/login"},{key:3,menuTitle:"Sign up",pageURL:"/signup"}],$=[{key:0,menuTitle:"Home",pageURL:"/"},{key:1,menuTitle:"Dashboard",pageURL:"/dashboard"},{key:2,menuTitle:"About",pageURL:"/about"}],Q=Object(f.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,color:"#074A49"},headerOptions:{marginRight:"3vw",justifyContent:"space-evenly"},list:{width:250},searchInput:Object(m.a)({position:"relative",borderRadius:"5px",paddingInline:".5rem",backgroundColor:e.palette.grey[200],"&:hover":{backgroundColor:e.palette.grey[300]},marginTop:e.spacing(2),marginInline:e.spacing(2),width:"90%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"})}}));function X(e){var t=Object(q.a)(),a=Object(F.a)(t.breakpoints.up("md")),n=Q(),i=c.a.useState(e.anchorEl),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(r.useContext)(M),j=Boolean(s),b=function(e){window.location=e,l(null)};return Object(D.jsxs)("div",{children:[Object(D.jsx)(Y.a,{edge:"start",className:n.menuButton,"aria-label":"menu",onClick:function(e){l(e.currentTarget)},children:Object(D.jsx)(K.a,{})}),Object(D.jsxs)(J.a,{id:"menu-appbar",anchor:"right",keepMounted:!0,open:j,onClose:function(){return l(null)},children:[!a&&Object(D.jsx)(R,{styleName:n.searchInput}),Object(D.jsx)(_.a,{style:{display:u?"none":"block"},className:n.list,children:V.map((function(e){var t=e.key,a=e.menuTitle,n=e.pageURL;return Object(D.jsx)(x.a,{onClick:function(){return b(n)},children:Object(D.jsx)("div",{children:a})},t)}))}),Object(D.jsxs)(_.a,{style:{display:u?"block":"none"},className:n.list,children:[$.map((function(e){var t=e.key,a=e.menuTitle,n=e.pageURL;return Object(D.jsx)(x.a,{onClick:function(){return b(n)},children:Object(D.jsx)("div",{children:a})},t)})),Object(D.jsx)(H,{})]})]})]})}var ee=Object(f.a)((function(e){return{root:{flexGrow:1},title:{fontFamily:"Righteous",fontSize:"2.5rem",fontWeight:"bold",cursor:"pointer",flex:1},toolbar:{display:"flex",justifyContent:"space-between",borderBottom:"solid 5px black"},headerOptions:{marginRight:"3vw",justifyContent:"space-evenly"},list:{width:250},navBarButtons:{display:"flex",position:"relative",height:"2.5rem",alignItems:"center"},actionUpButton:{backgroundColor:e.palette.action.disabledBackground,height:"2.5rem",width:"7rem",margin:"10px",boxShadow:"-5px 5px 0px black",border:"solid 5px black",cursor:"pointer",borderRadius:0},searchInput:Object(m.a)({position:"relative",borderRadius:"5px",paddingInline:".5rem",backgroundColor:e.palette.grey[200],"&:hover":{backgroundColor:e.palette.grey[300]},marginRight:e.spacing(2),marginLeft:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"})}})),te=Object(L.h)((function(){var e=ee(),t=Object(q.a)(),a=Object(F.a)(t.breakpoints.up("md")),n=Object(r.useState)(!1),c=Object(d.a)(n,2),i=c[0],o=c[1],s=Object(r.useContext)(E);function l(){o(!i)}return Object(D.jsx)(U.a,{position:"static",color:"transparent",children:Object(D.jsxs)(B.a,{className:e.toolbar,children:[Object(D.jsx)(y.a,{variant:"h6",className:e.title,onClick:function(){window.location="/"},children:" BAO GALLERY "}),a?Object(D.jsxs)(D.Fragment,{children:["/about"!==window.location.pathname&&Object(D.jsx)(z.a,{href:"/about",style:{height:"2.5rem",borderRadius:0},children:"ABOUT"}),Object(D.jsx)(R,{styleName:e.searchInput}),"/"!==window.location.pathname&&Object(D.jsxs)("div",{className:e.navBarButtons,style:{visibility:s.auth||s.isLoading?"hidden":"visible"},children:[Object(D.jsx)(z.a,{mx:2,py:2,style:{height:"2.5rem",borderRadius:0},onClick:function(){window.location="/login"},children:"LogIn"}),Object(D.jsx)(z.a,{className:e.actionUpButton,onClick:function(){window.location="/signup"},children:" SignUp "})]})]}):Object(D.jsx)(X,{anchor:i,onClick:function(){l()}}),function(){if(s.auth&&a)return Object(D.jsx)(X,{anchor:i,onClick:function(){l()}})}()]})})})),ae=a(7),ne=a(171),re=a(213),ce=a(214);function ie(){return Object(D.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",style:{marginTop:"3rem"},children:["Copyright \xa9 ",Object(D.jsx)(v.a,{color:"inherit",href:"https://www.baogallery.herokuapp.com",children:"Bao Gallery"})," ",(new Date).getFullYear()]})}function oe(e){return Object(D.jsx)(ne.a,Object(ae.a)(Object(ae.a)({button:!0,component:"a"},e),{},{target:"_blank",rel:"noreferrer"}))}function se(){return Object(D.jsxs)("div",{style:{padding:"3rem",backgroundColor:"#efefefcc",marginTop:"4rem"},children:[Object(D.jsxs)(re.a,{container:!0,spacing:2,alignItems:"center",children:[Object(D.jsx)(re.a,{item:!0,xs:6,zeroMinWidth:!0,children:Object(D.jsxs)(y.a,{variant:"body2",color:"textPrimary",align:"center",children:["Made with \u2764 by\xa0",Object(D.jsx)(v.a,{color:"textPrimary",href:"https://www.grgslamanca.com/",children:Object(D.jsx)("b",{children:"Gonzalo Rodriguez"})})]})}),Object(D.jsx)(G.a,{orientation:"vertical",flexItem:!0}),Object(D.jsx)(re.a,{item:!0,xs:!0,children:Object(D.jsxs)(_.a,{component:"nav","aria-label":"secondary mailbox folders",children:[Object(D.jsx)(oe,{href:"/about",children:Object(D.jsx)(ce.a,{primary:"About This Website"})}),Object(D.jsx)(oe,{href:"https://github.com/GonzRodriguez",children:Object(D.jsx)(ce.a,{primary:"GitHub"})}),Object(D.jsx)(oe,{href:"https://www.linkedin.com/in/developer-gonzalo-rgs/",children:Object(D.jsx)(ce.a,{primary:"Linkedin"})})]})})]}),Object(D.jsx)(ie,{})]})}var le=a(49),ue=a(122),de=a(172),je=a(217),be=a(237),he=a(15),pe=a(215),me=a(216),Oe=a(239),ge=a(218),fe=a(240),xe=a(219),ve=a(82),ye=a.n(ve),we=a(83),ke=a.n(we),Ce=a(116),Ie=a.n(Ce),Ne=a(84),Se=a.n(Ne),Pe=a(85),Ae=a.n(Pe),We=Object(f.a)((function(e){return{cardActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"fit-content",paddingInline:"0.7rem  "},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1),boxShadow:0},image:{flex:0,marginInlineStart:"1rem"},inputLabel:{fontSize:13,margin:e.spacing(1)},input:{borderRadius:"5px",minWidth:"10rem",padding:e.spacing(1),margin:e.spacing(1),fontSize:16,backgroundColor:Object(he.b)(e.palette.common.black,.05),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.black,.15)}},button:{height:"2.5rem"},iconButton:{maxWidth:"2rem",height:"1rem"},clearIcon:{maxWidth:"2vh"},tagsDisplay:{display:"flex",flexWrap:"wrap",margin:e.spacing(1)},formGroup:{display:"flex",flexWrap:"wrap",marging:e.spacing(2),width:"100%"}}}));function De(e){var t=We(),a=Object(d.a)(e.handleImages,2),n=a[0],c=a[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),s=o[0],l=o[1],u=Object(r.useState)(null),j=Object(d.a)(u,2),b=j[0],h=j[1],p=e.imageData,m=p.collection,O=p.price,g=p.tags,f=function(e,t){"Enter"===e.key&&s.length>1&&(c((function(e){return e.map((function(e){return e.title===t.title?Object(ae.a)(Object(ae.a)({},e),{},{tagInput:"",tags:{required:!1,value:e.tags.value.concat(s.toLowerCase())}}):e}))})),l(""))},x=function(e){h(e.currentTarget)},v=function(){h(null)},k=Boolean(b);return Object(D.jsx)(re.a,{container:!0,spacing:2,justifycontent:"center",children:n.map((function(e){return Object(D.jsx)(re.a,{item:!0,children:Object(D.jsxs)(pe.a,{variant:"outlined",children:[Object(D.jsxs)("div",{className:t.cardActions,children:[Object(D.jsxs)(me.a,{children:[Object(D.jsx)(je.a,{"aria-owns":k?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:x,onMouseLeave:v,control:Object(D.jsx)(be.a,{icon:Object(D.jsx)(ye.a,{}),checked:e.checked,onClick:function(t){return a=e,void c((function(e){return e.map((function(e){return e.title===a.title?Object(ae.a)(Object(ae.a)({},e),{},{checked:!a.checked,price:O,tags:{required:a.tags.required,value:g.value.map((function(e){return e}))},imgCollection:m}):e}))}));var a},checkedIcon:Object(D.jsx)(ke.a,{}),name:e.filename})}),Object(D.jsx)(Oe.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:k,anchorEl:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:v,disableRestoreFocus:!0,children:Object(D.jsx)(y.a,{variant:"body2",children:"Change this photography details"})}),Object(D.jsx)(Y.a,{className:t.iconButton,"aria-label":"delete",onClick:function(){!function(e){c(n.filter((function(t){return t.title!==e.title})))}(e)},children:Object(D.jsx)(Ie.a,{})})]}),Object(D.jsx)(ge.a,{component:"img",className:t.image,alt:"image",height:"30rem",image:e.previewImage})]}),Object(D.jsx)(re.a,{item:!0,children:!e.checked&&Object(D.jsxs)("form",{children:[Object(D.jsxs)(re.a,{container:!0,direction:"row",spacing:2,alignItems:"center",className:t.formGroup,children:[Object(D.jsxs)(re.a,{item:!0,xs:!0,children:[e.price.required?Object(D.jsx)(fe.a,{error:!0,shrink:!0,className:t.inputLabel,children:"This field is required"}):Object(D.jsx)(fe.a,{shrink:!0,className:t.inputLabel,children:"Choose a price"}),Object(D.jsx)(w.a,{error:e.price.required,id:"Price*",margin:"none",className:t.input,fullWidth:!0,type:"number",onChange:function(t){return n=e,(a=t).persist(),void c((function(e){return e.map((function(e){return e.title===n.title?Object(ae.a)(Object(ae.a)({},e),{},{price:{required:!1,value:a.target.value}}):e}))}));var a,n},startAdornment:Object(D.jsxs)(xe.a,{position:"start",children:[" ",Object(D.jsx)(Se.a,{})," "]})})]}),Object(D.jsxs)(re.a,{item:!0,xs:!0,children:[e.tags.required?Object(D.jsx)(fe.a,{error:!0,shrink:!0,className:t.inputLabel,children:"Add or delete tag to be submited "}):Object(D.jsx)(fe.a,{shrink:!0,className:t.inputLabel,children:"Tags"}),Object(D.jsx)(w.a,{error:e.tags.required,id:"Tags",variant:"outlined",className:t.input,margin:"none",fullWidth:!0,value:e.tagInput,onChange:function(t){var a,n;l(t.target.value),n=e,(a=t).persist(),c((function(e){return e.map((function(e){return e.title===n.title?Object(ae.a)(Object(ae.a)({},e),{},{tagInput:a.target.value}):e}))}))},onKeyDown:function(t){return f(t,e)},startAdornment:Object(D.jsxs)(xe.a,{position:"start",children:[" ",Object(D.jsx)(N.a,{})," "]}),endAdornment:Object(D.jsx)(z.a,{onClick:function(){var t;(t=e).tags.value.filter((function(e){return e===s})).length>0||s<1?(c((function(e){return e.map((function(e){return e.title===t.title?Object(ae.a)(Object(ae.a)({},e),{},{tagInput:""}):e}))})),l("")):(c((function(e){return e.map((function(e){return e.title===t.title?Object(ae.a)(Object(ae.a)({},e),{},{tagInput:"",tags:{required:!1,value:e.tags.value.concat(s.toLowerCase())}}):e}))})),l(""))},children:" ADD "})})]}),Object(D.jsxs)(re.a,{item:!0,xs:!0,children:[Object(D.jsx)(fe.a,{shrink:!0,className:t.inputLabel,children:"Collection"}),Object(D.jsx)(w.a,{id:"Collection",margin:"none",fullWidth:!0,className:t.input,value:null===e||void 0===e?void 0:e.imgCollection,onChange:function(t){return n=e,(a=t).persist(),void c((function(e){return e.map((function(e){return e.title===n.title?Object(ae.a)(Object(ae.a)({},e),{},{imgCollection:a.target.value}):e}))}));var a,n},onKeyDown:f,startAdornment:Object(D.jsxs)(xe.a,{position:"start",children:[" ",Object(D.jsx)(W.a,{})," "]})})]})]}),Object(D.jsx)(re.a,{children:Object(D.jsx)(re.a,{item:!0,className:t.tagsDisplay,children:e.tags.value.map((function(a){return Object(D.jsxs)(_.a,{onClick:function(e){return e.preventDefault()},variant:"body2",style:{color:"#8a8a8a"},children:[" #"+a,Object(D.jsx)(Y.a,{className:t.iconButton,"aria-label":"delete",onClick:function(){c((function(t){return t.map((function(t){return t.filename===e.filename?Object(ae.a)(Object(ae.a)({},t),{},{tags:{required:!1,value:e.tags.value.filter((function(e){return e!==a}))}}):t}))}))},children:Object(D.jsx)(Ae.a,{className:t.clearIcon})})]},e.tags.value.indexOf(a))}))})})]})})]})},n.indexOf(e))}))})}var Te=Object(f.a)((function(e){return{inputLabel:{fontSize:13,margin:"10px 0"},input:{borderRadius:"5px",padding:e.spacing(1),fontSize:16,backgroundColor:Object(he.b)(e.palette.common.black,.05),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.black,.15)}},iconButton:{maxWidth:"2rem",height:"1rem"},clearIcon:{maxWidth:"2vh"},tagsDisplay:{display:"flex",flexWrap:"wrap",margin:e.spacing(1)},formGroup:{marging:e.spacing(2),width:"100%"}}}));function Re(e){var t=Te(),a=e.imageData,n=a.collection,c=a.setCollection,i=a.price,o=a.setPrice,s=a.tags,l=a.setTags,u=a.tagInput,d=a.setTagInput,j=function(e){"Enter"===e.key&&u.length>1&&(l((function(e){return{required:!1,value:e.value.concat(u.toLowerCase())}})),d(""))};Object(r.useEffect)((function(){console.log(i.required,s.required)}),[i,s,u]);var b=s.value.map((function(e){return Object(D.jsxs)(_.a,{onClick:function(e){return e.preventDefault()},variant:"body2",children:[" #"+e,Object(D.jsx)(Y.a,{className:t.iconButton,"aria-label":"delete",onClick:function(){l((function(t){return{required:t.required,value:t.value.filter((function(t){return t!==e}))}}))},children:Object(D.jsx)(Ae.a,{className:t.clearIcon})})]},s.value.indexOf(e))}));return Object(D.jsxs)("form",{className:t.formGroup,children:[Object(D.jsxs)(re.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(D.jsxs)(re.a,{item:!0,xs:!0,children:[i.required?Object(D.jsx)(fe.a,{error:!0,shrink:!0,className:t.inputLabel,children:"This field is required"}):Object(D.jsx)(fe.a,{shrink:!0,className:t.inputLabel,children:"Choose a price"}),Object(D.jsx)(w.a,{error:i.required,id:"Price*",margin:"none",className:t.input,fullWidth:!0,type:"number",onChange:function(e){return o({required:!1,value:e.target.value})},startAdornment:Object(D.jsxs)(xe.a,{position:"start",children:[" ",Object(D.jsx)(Se.a,{})," "]})})]}),Object(D.jsxs)(re.a,{item:!0,xs:!0,children:[s.required?Object(D.jsx)(fe.a,{error:!0,shrink:!0,className:t.inputLabel,children:"Add or delete tag to be submited "}):Object(D.jsx)(fe.a,{shrink:!0,className:t.inputLabel,children:"Tags"}),Object(D.jsx)(w.a,{error:s.required,className:t.input,margin:"none",fullWidth:!0,value:u,onChange:function(e){return d(e.target.value)},onKeyDown:j,startAdornment:Object(D.jsxs)(xe.a,{position:"start",children:[" ",Object(D.jsx)(N.a,{})," "]}),endAdornment:Object(D.jsx)(z.a,{onClick:function(){s.value.filter((function(e){return e===u})).length>0||u<1||l((function(e){return{required:!1,value:e.value.concat(u.toLowerCase())}})),d("")},children:" ADD "})})]}),Object(D.jsxs)(re.a,{item:!0,xs:!0,children:[Object(D.jsx)(fe.a,{shrink:!0,className:t.inputLabel,children:"Collection"}),Object(D.jsx)(w.a,{id:"Collection",margin:"none",fullWidth:!0,className:t.input,value:n,onChange:function(e){return c(e.target.value)},onKeyDown:j,startAdornment:Object(D.jsxs)(xe.a,{position:"start",children:[" ",Object(D.jsx)(W.a,{})," "]})})]})]}),Object(D.jsx)(re.a,{children:b&&Object(D.jsx)(re.a,{item:!0,className:t.tagsDisplay,children:b})})]})}var Le=a(94),qe=a.n(Le),Fe=a(117),Ue=a.n(Fe),Be=a(236),ze=a(220),Ee=Object(f.a)((function(e){return{dropzone:{height:"40%",display:"flex",margin:"20px 0",padding:"1.5rem",justifyContent:"center",alignItems:"center",flexDirection:"column",widht:"100%",border:e.border.border,borderStyle:"dashed","&:hover":{border:"5px dashed #b9b9b9"}},previewImages:{margin:"2rem"},form:{border:e.border.border,margin:"40px",borderRadius:"4px",backgroundColor:"#dddddd"},button:{height:"2.5rem",width:"20rem"}}}));function Me(e){var t=Ee(),a=Object(r.useContext)(M),n=Object(r.useContext)(C),c=Object(r.useState)(""),i=Object(d.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)([]),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(r.useState)(""),p=Object(d.a)(h,2),m=p[0],O=p[1],g=Object(r.useState)(!1),f=Object(d.a)(g,2),x=f[0],v=f[1],w=Object(r.useState)({required:!1,value:""}),k=Object(d.a)(w,2),I=k[0],N=k[1],S=Object(r.useState)({required:!1,value:[]}),P=Object(d.a)(S,2),A=P[0],W=P[1],T={collection:m,setCollection:O,price:I,setPrice:N,tags:A,setTags:W,tagInput:o,setTagInput:s},R=a.username,L=a._id,q=Object(r.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onloadstart=function(){j.forEach((function(t){return e.name===t.filename&&j.splice(j.indexOf(t),1)}))},t.onload=function(){2===t.readyState&&b((function(a){return a.concat({previewImage:t.result,image:e,title:e.name,checked:!0,creatorId:L,creator:R,createdAt:(new Date).getDate()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getFullYear(),date:new Date,tagInput:o,price:{required:!1,value:""},tags:{required:!1,value:[]},imgCollection:""})}))},t.readAsDataURL(e)}))}),[j,b,L,R,o]),F=Object(ue.a)({onDrop:q,noClick:!0}),U=F.getRootProps,B=F.getInputProps,E=[j,b],_=function(e){e.previewImage;var t=Object(le.a)(e,["previewImage"]),a=new FormData;a.append("image",e.image),a.append("creator",R),a.append("collection",e.imgCollection),n.uploadImage(a).then((function(e){return console.log("uploaded image",e)})),n.createPost(t).then((function(e){return console.log("created post",e)})),window.location="/dashboard"};return Object(r.useEffect)((function(){b((function(e){return e.map((function(e){return e.checked?Object(ae.a)(Object(ae.a)({},e),{},{price:I,tags:{required:e.tags.required,value:A.value.map((function(e){return e}))},imgCollection:m,tagInput:o}):e}))}))}),[m,I,A,o]),Object(D.jsxs)(D.Fragment,{children:[x&&Object(D.jsxs)(Be.a,{severity:"warning",onClose:function(){v(!1)},children:[Object(D.jsx)(ze.a,{children:"Warning"}),"One or more fields require your attention, ",Object(D.jsx)("strong",{children:" make sure you've submited all the tags and chosen the price of your pictures"})]}),j.length>0&&Object(D.jsxs)(D.Fragment,{children:[j.some((function(e){return e.checked}))&&!j.every((function(e){return e.checked}))&&Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(D.jsx)(de.a,{in:!j.every((function(e){return e.checked})),children:Object(D.jsx)(je.a,{control:Object(D.jsx)(be.a,{icon:Object(D.jsx)(ye.a,{}),checked:j.every((function(e){return e.checked})),onChange:function(){b((function(e){return e.map((function(e){return!1===e.checked?Object(ae.a)(Object(ae.a)({},e),{},{checked:!0,price:I,tags:{required:e.tags.required,value:A.value.map((function(e){return e}))},imgCollection:m,tagInput:o}):e}))}))},checkedIcon:Object(D.jsx)(ke.a,{})})})}),Object(D.jsx)(y.a,{variant:"body2",children:" Select All"})]}),j.some((function(e){return e.checked}))&&Object(D.jsx)(Re,{handleImages:e.handleImages,imageData:T}),Object(D.jsx)(re.a,{container:!0,direction:"row",justify:"center",children:Object(D.jsx)(z.a,{type:"submit",className:t.button,variant:"contained",startIcon:Object(D.jsx)(qe.a,{}),onClick:function(){j.forEach((function(e){e.tagInput.length&&b((function(t){return t.map((function(t){return t.title===e.title?Object(ae.a)(Object(ae.a)({},t),{},{tags:{required:!0,value:t.tags.value}}):t}))})),!e.price.value&&b((function(t){return t.map((function(t){return t.title===e.title?Object(ae.a)(Object(ae.a)({},t),{},{price:{required:!0,value:t.price.value}}):t}))})),!I.value&&N({required:!0,value:""}),o.length&&W((function(e){return{required:!0,value:e.value}})),!e.tagInput.length&&e.price.value&&I.value&&!o.length?_(e):v(!0)}))},children:"Upload"})})]}),Object(D.jsxs)("div",Object(ae.a)(Object(ae.a)({},U()),{},{className:t.dropzone,children:[Object(D.jsx)("input",Object(ae.a)({},B())),!j.length>0?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(qe.a,{style:{fontSize:90}}),Object(D.jsx)(y.a,{variant:"button",children:" Drag & Drop Your Images Here "}),Object(D.jsx)(z.a,{variant:"contained",children:Object(D.jsx)("label",{htmlFor:"file-upload",children:"Or Select your files"})}),Object(D.jsx)("input",Object(ae.a)(Object(ae.a)({type:"file",name:"input",id:"file-upload",multiple:!0},B()),{},{hidden:!0}))]}):Object(D.jsxs)(re.a,{container:!0,spacing:2,children:[Object(D.jsxs)(re.a,{item:!0,xs:12,children:[Object(D.jsx)(z.a,{variant:"outlined",fullWidth:!0,startIcon:Object(D.jsx)(Ue.a,{}),children:Object(D.jsx)("label",{htmlFor:"file-upload",children:"Select Files"})}),Object(D.jsx)("input",Object(ae.a)(Object(ae.a)({type:"file",name:"input",id:"file-upload",multiple:!0},B()),{},{hidden:!0}))]}),Object(D.jsx)(re.a,{item:!0,xs:12,children:Object(D.jsx)(De,{handleImages:E,imageData:T})})]})]}))]})}var _e=a(222),Ge=a(223),He=a(241),Ze=a(86),Ke=a.n(Ze),Ye=a(118),Je=a(119),Ve=a(123),$e=a(121),Qe=a(221),Xe=function(e){Object(Ve.a)(a,e);var t=Object($e.a)(a);function a(){return Object(Ye.a)(this,a),t.apply(this,arguments)}return Object(Je.a)(a,[{key:"render",value:function(){return Object(D.jsx)("div",{style:{display:"flex",height:"20rem",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(D.jsx)(Qe.a,{color:"primary"})})}}]),a}(r.Component),et=Object(f.a)((function(){return{root:{maxHeight:"200vh",borderRadius:0,position:"relative"},postDescription:{margin:"2vh",padding:0},price:{padding:0,margin:0},typo:{display:"inline-flex",fontFamily:"Anton"},tagsAndDate:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},tag:{fontSize:"2vh",margin:"1px",color:"#959c97",padding:0,borderRadius:4,maxWidth:"fit-content",textDecoration:"none"},optionsButton:{position:"absolute",top:"1px",right:"1px"},optionsIcon:{padding:0,maxWidth:"fit-content",color:"antiquewhite"}}}));var tt=function(e){var t=et(),a=Object(r.useState)(null),n=Object(d.a)(a,2),c=n[0],i=n[1],o=Object(r.useContext)(C),s=Object(r.useContext)(M),l=function(){i(null)};return e.post?Object(D.jsxs)(pe.a,{className:t.root,children:[Object(D.jsx)(ge.a,{className:t.cardMedia,component:"img",alt:"image",height:"300vh",image:e.post.postsPath}),e.profile===(null===s||void 0===s?void 0:s.username)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Y.a,{className:t.optionsButton,onClick:function(e){i(e.currentTarget)},children:Object(D.jsx)(Ke.a,{className:t.optionsIcon})}),Object(D.jsx)(He.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:l,children:Object(D.jsx)(x.a,{onClick:function(){o.deletePost(e.post._id,s._id).then((function(e){return console.log(e)})),e.posts.splice(e.posts.indexOf(e.post),1),e.setPosts(e.posts.filter((function(t){return t._id!==e.post._id}))),l()},children:"Delete"})})]}),Object(D.jsxs)("div",{className:t.postDescription,children:[Object(D.jsxs)(y.a,{children:["Artist: ",Object(D.jsx)(v.a,{color:"inherit",href:"/profile/".concat(e.post.creator.replace(/\s+/g,"-")),children:Object(D.jsx)("strong",{children:e.post.creator.replace(/\s+/g,"-")})})]}),Object(D.jsxs)(y.a,{children:["Collection: ",Object(D.jsx)(v.a,{color:"inherit",href:"/collection/".concat(e.post.imgCollection.replace(/\s+/g,"-")),children:Object(D.jsx)("strong",{children:e.post.imgCollection})})]}),e.post.price>0&&Object(D.jsxs)(y.a,{className:t.typo,children:[" ",e.post.price,"$"]}),Object(D.jsxs)("div",{className:t.tagsAndDate,children:[Object(D.jsx)(y.a,{style:{display:"flex",color:"#9d9b9b",flexWrap:"wrap"},children:e.post.tags.map((function(a){return Object(D.jsxs)(Y.a,{href:"/tags/".concat(a.replace(/\s+/g,"-")),className:t.tag,variant:"caption",children:["#",a,"\xa0"]},e.post.tags.indexOf(a))}))}),Object(D.jsxs)(y.a,{style:{fontSize:"small",color:"#9d9b9b"},children:["Created At: ",e.post.createdAt]})]})]})]}):Object(D.jsx)(Xe,{})};function at(){return Object(D.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(D.jsx)("img",{src:"/error-404.svg",alt:"No posts yet",style:{height:"60vmin"}}),Object(D.jsx)(y.a,{variant:"h3",align:"center",children:"Something went wrong..."})]})}var nt=Object(f.a)((function(e){return{root:{marginTop:"2vh",width:"100%",borderRadius:0},input:Object(m.a)({backgroundColor:e.palette.grey[200],margin:"1rem 1rem 1rem 0",borderRadius:"5px",padding:e.spacing(1,1,1,1),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));var rt=function(e){var t=nt(),a=Object(r.useContext)(C),n=e.collection,c=e.query,i=Object(r.useState)([]),o=Object(d.a)(i,2),s=o[0],j=o[1],b=Object(r.useState)(!1),h=Object(d.a)(b,2),p=h[0],m=h[1],O=Object(r.useState)([]),g=Object(d.a)(O,2),f=g[0],x=g[1],v=Object(r.useState)([]),y=Object(d.a)(v,2),k=y[0],I=y[1],N=Object(r.useState)([]),S=Object(d.a)(N,2),P=S[0],A=S[1],W=Object(r.useState)([]),T=Object(d.a)(W,2),R=T[0],L=T[1],q=Object(r.useState)(!0),F=Object(d.a)(q,2),U=F[0],B=F[1],E=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchPosts(n,c).then((function(e){return e.data}));case 2:t=e.sent,j((function(e){return e.concat(t)})),B(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=!0;try{if(e)return E(),function(){return e=!1}}catch(t){console.log(t)}}),[]),Object(D.jsxs)(D.Fragment,{children:[U?Object(D.jsx)(Xe,{}):s.length>0?Object(D.jsxs)("form",{style:{display:"flex",flexWrap:"wrap",margin:"1rem",alignItems:"center",justifyContent:"center"},children:[Object(D.jsx)(w.a,{className:t.input,placeholder:"Collection",value:P,onChange:function(e){return A(e.target.value)}}),Object(D.jsx)(w.a,{className:t.input,placeholder:"Tags",value:k,onChange:function(e){return I(e.target.value)}}),Object(D.jsx)(w.a,{className:t.input,placeholder:"Search\u2026",type:"date",onChange:function(e){return function(e){var t=(e.slice(8).startsWith(0)?e.slice(9,11):e.slice(8,11))+"-"+(e.slice(5).startsWith(0)?e.slice(6,7):e.slice(5,7))+"-"+e.slice(0,4);L(t)}(e.target.value)}}),Object(D.jsxs)(_e.a,{variant:"outlined",style:{height:"-webkit-fill-available"},color:"secondary","aria-label":"contained primary button group",children:[Object(D.jsx)(z.a,{size:"large",onClick:function(){m(!0),x((function(e){return e.concat(s.filter((function(e){return e.imgCollection===P})))})),x((function(e){return e.concat(s.map((function(e){return e.tags.includes(k)&&e})))})),x((function(e){return e.concat(s.filter((function(e){return e.createdAt===R})))}))},children:"Filter"}),Object(D.jsx)(z.a,{size:"small",onClick:function(){m(!1),x([]),I([]),A([]),L([])},children:"clear"})]})]}):Object(D.jsx)(at,{}),U?Object(D.jsx)(Xe,{}):p?Object(D.jsx)(Ge.a,{children:Object(D.jsx)(re.a,{className:t.root,container:!0,alignItems:"stretch",spacing:3,children:f.map((function(t){if(t.creator)return Object(D.jsx)(re.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(tt,{post:t,posts:s,setPosts:j,profile:e.query})},t._id)}))})}):Object(D.jsx)(Ge.a,{children:Object(D.jsx)(re.a,{className:t.root,container:!0,alignItems:"stretch",spacing:3,children:s.map((function(t){if(t.creator)return Object(D.jsx)(re.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(tt,{post:t,posts:s,setPosts:j,profile:e.query})},t._id)}))})})]})},ct=a(67),it=a.n(ct),ot=a(227),st=a(242),lt=a(235),ut=a(210),dt=a(233),jt=a(224),bt=a(225),ht=a(226),pt=Object(f.a)((function(e){return{modal:{margin:"auto",maxWidth:"100vh",alignItems:"center",justifyContent:"center",outline:"none",border:0,overflow:"scroll",minHeight:"20vh"},paper:{backgroundColor:e.palette.background.paper,border:0,padding:e.spacing(2,4,3)},texfield:{width:"100%"},large:{width:e.spacing(12),height:e.spacing(12)}}}));function mt(){var e=pt(),t=Object(r.useContext)(M),a=Object(r.useContext)(C),n=t.username,c=t.avatar,i=t.email,o=t.webpage,s=t.socialMediaAccounts,j=t._id,b=t.bio,h=Object(r.useState)({username:n,avatar:c,email:i,webpage:o,password:"",bio:b,facebook:s.facebook,instagram:s.instagram,twitter:s.twitter,snapchat:s.snapchat,flickr:s.flickr}),p=Object(d.a)(h,2),m=p[0],O=p[1],g=Object(r.useState)(""),f=Object(d.a)(g,2),x=f[0],v=f[1],w=Object(r.useState)(),k=Object(d.a)(w,2),I=k[0],N=k[1],S=Object(r.useState)(!1),P=Object(d.a)(S,2),A=P[0],W=P[1];if(null==t)return Object(D.jsx)(Xe,{});var T=function(){W(!1)};var R=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.editProfile(j,m).then((function(e){console.log(e.data)})).then(window.location="/dashboard");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:e.editProfileForm,children:[Object(D.jsx)(z.a,{type:"button",onClick:function(){W(!0)},children:Object(D.jsx)(Ke.a,{})}),Object(D.jsx)(lt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:A,onClose:T,closeAfterTransition:!0,BackdropComponent:ut.a,BackdropProps:{timeout:300},children:Object(D.jsx)(de.a,{in:A,children:Object(D.jsx)("form",{id:"form",children:Object(D.jsxs)("div",{className:e.paper,children:[Object(D.jsx)(y.a,{variant:"h6",mt:1,children:"Edit Your Profile"}),Object(D.jsx)(G.a,{}),Object(D.jsx)(dt.a,{display:"flex",alignItems:"center",children:Object(D.jsx)(dt.a,{m:1,children:Object(D.jsx)(st.a,{alt:"Avatar",src:c,className:e.large})})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Username",children:"Username"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.username,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{username:e.target.value}))},placeholder:"Username",name:"Username",id:"Username",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Email",children:"Email"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.email,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{email:e.target.value}))},placeholder:"Email",name:"email",id:"email",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Bio",children:"Bio"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.bio,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{bio:e.target.value}))},placeholder:"Bio",rows:"3",name:"email",id:"email",className:e.texfield})]})}),Object(D.jsx)(y.a,{variant:"h6",children:"Contact details"}),Object(D.jsx)(G.a,{}),Object(D.jsxs)(dt.a,{display:"block",children:[Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Web Page",children:"Web Page"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.webpage,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{webpage:e.target.value}))},placeholder:"Web Page",name:"webpage",id:"webPage",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Instagram",children:"Instagram"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.instagram,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{instagram:e.target.value}))},placeholder:"Instagram",id:"Instagram",name:"instagram",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Facebook",children:"Facebook"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.facebook,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{facebook:e.target.value}))},placeholder:"Facebook",name:"facebook",id:"Facebook",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Twitter",children:"Twitter"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.twitter,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{twitter:e.target.value}))},placeholder:"Twitter",name:"twitter",id:"Twitter",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Snapchat",children:"Snapchat"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.snapchat,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{snapchat:e.target.value}))},placeholder:"Snapchat",name:"snapchat",id:"Snapchat",className:e.texfield})]})}),Object(D.jsx)(dt.a,{m:1,children:Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Flickr",children:"Flickr"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.flickr,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{flickr:e.target.value}))},placeholder:"Flickr",name:"flickr",id:"Flickr",className:e.texfield})]})})]}),Object(D.jsx)(y.a,{variant:"h6",children:"Change your Password"}),Object(D.jsx)(G.a,{}),Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Password",children:"Password"}),Object(D.jsx)(bt.a,{disableUnderline:!0,value:m.password,onChange:function(e){return O(Object(ae.a)(Object(ae.a)({},m),{},{password:e.target.value}))},placeholder:"Password",error:I,type:"password",name:"password",id:"Password",className:e.texfield})]}),Object(D.jsx)(ht.a,{children:I&&Object(D.jsx)("p",{style:{color:"red"},children:"Passwords don not match"})}),Object(D.jsxs)(jt.a,{variant:"filled",fullWidth:!0,children:[Object(D.jsx)(fe.a,{htmlFor:"Confirm your Password",children:"Confirm your Password"}),Object(D.jsx)(bt.a,{disableUnderline:!0,placeholder:"Confirm your Password",error:I,type:"password",name:"confirmPassword",id:"confirmPassword",className:e.texfield,onChange:function(e){return v(e.target.value)}})]}),Object(D.jsx)(ht.a,{children:I&&Object(D.jsx)("p",{style:{color:"red"},children:"Password don not match"})}),Object(D.jsx)(z.a,{type:"submit",color:"secondary",m:1,variant:"outlined",fullWidth:!0,onClick:function(e){e.preventDefault(),x!==m.password?N("error"):R()},children:"Submit"}),Object(D.jsx)(z.a,{color:"inherit",m:1,onClick:T,fullWidth:!0,children:"Discard"})]})})})})]})}var Ot=Object(f.a)((function(e){return{root:{border:e.border.border,height:"fit-content"},icons:{fontSize:"2vh"},title:{fontFamily:e.fontFamily.body,fontWeight:600,color:"primary"}}}));var gt=function(e){var t=Ot(),a=Object(r.useContext)(M),n=e.profile.socialMediaAccounts,c=(n._id,Object(le.a)(n,["_id"]));return Object(D.jsxs)(pe.a,{variant:"outlined",className:t.root,children:[Object(D.jsx)(ot.a,{avatar:Object(D.jsx)(st.a,{alt:"Avatar",src:e.profile.avatar}),title:Object(D.jsxs)(y.a,{className:t.title,variant:"h2",color:"textPrimary",children:[" ",e.profile.username," "]}),subheader:Object(D.jsxs)(D.Fragment,{children:[" ",e.profile.bio,"  "]}),action:(null===a||void 0===a?void 0:a._id)===e.profile._id&&Object(D.jsx)(mt,{alert:alert})}),Object(D.jsx)(y.a,{variant:"subtitle2",style:{marginInline:"1rem"},children:Object(D.jsx)("span",{children:e.profile.email})}),Object(D.jsx)(y.a,{variant:"subtitle2",style:{marginInline:"1rem"},children:Object(D.jsx)("span",{children:e.profile.webpage&&e.profile.webpage})}),Object(D.jsx)(G.a,{}),Object(D.jsx)("div",{style:{display:"flex",flexWrap:"wrap",margin:"1rem"},children:Object.entries(c).map((function(e){return e[1]&&Object(D.jsx)(re.a,{item:!0,children:Object(D.jsxs)(y.a,{variant:"caption",style:{marginInline:".3rem"},children:[Object(D.jsx)("i",{className:"fab fa-".concat(e[0]),children:"\xa0"}),it.a.upperFirst(e[1])]})},e[0])}))})]})},ft=a(234),xt=a(228);function vt(e){var t=e.children,a=e.value,n=e.index,r=Object(le.a)(e,["children","value","index"]);return Object(D.jsx)(dt.a,Object(ae.a)(Object(ae.a)({role:"tabpanel",hidden:a!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},r),{},{children:a===n&&Object(D.jsx)(dt.a,{p:3,children:Object(D.jsx)(y.a,{component:"span",children:t})})}))}function yt(e){return{id:"wrapped-tab-".concat(e),"aria-controls":"wrapped-tabpanel-".concat(e)}}var wt=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function kt(){var e=Object(r.useContext)(M),t=wt(),a=Object(r.useState)("one"),n=Object(d.a)(a,2),c=n[0],i=n[1],o=Object(q.a)(),s=Object(F.a)(o.breakpoints.up("sm"));return Object(D.jsxs)(Ge.a,{maxWidth:"lg",style:{margin:"1rem 0 1rem 0"},children:[!s&&Object(D.jsx)(re.a,{item:!0,xs:12,md:4,children:Object(D.jsx)(gt,{profile:e})}),Object(D.jsxs)(re.a,{container:!0,spacing:4,children:[Object(D.jsx)(re.a,{item:!0,xs:12,sm:8,children:Object(D.jsxs)("div",{className:t.root,children:[Object(D.jsx)(U.a,{position:"static",color:"secondary",children:Object(D.jsxs)(ft.a,{value:c,onChange:function(e,t){i(t)},"aria-label":"tabs",centered:!0,children:[Object(D.jsx)(xt.a,Object(ae.a)({value:"one",label:"All your photos"},yt("one"))),Object(D.jsx)(xt.a,Object(ae.a)({value:"two",label:"Upload"},yt("two")))]})}),Object(D.jsx)(vt,{value:c,index:"one",children:e.posts.length>0?Object(D.jsx)(rt,{collection:"profile",query:e.username}):Object(D.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(D.jsx)(y.a,{variant:"h4",align:"center",children:"Nothing uploaded yet"}),Object(D.jsx)("img",{src:"/nothing-uploaded.svg",alt:"No posts yet",style:{height:"70vmin"}})]})}),Object(D.jsx)(vt,{value:c,index:"two",children:Object(D.jsx)(Me,{})})]})}),s&&Object(D.jsx)(re.a,{item:!0,xs:12,sm:4,children:Object(D.jsx)(gt,{profile:e})})]})]})}var Ct=a(88),It=a.n(Ct),Nt=a(229),St=a(87),Pt=a.n(St),At=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"black"},form:{width:"100%",marginTop:e.spacing(1)},submit:{backgroundColor:"#e9e9e9",height:"2.5rem",width:"100%",marginTop:e.spacing(4),marginBottom:e.spacing(4),boxShadow:"-5px 5px 0px black",border:"solid 5px black",cursor:"pointer",borderRadius:0},alert:{width:"75vh",margin:"auto",marginTop:e.spacing(2)},search:Object(m.a)({spacing:e.spacing(2),padding:e.spacing(1),borderRadius:"5px",backgroundColor:Object(he.b)(e.palette.common.black,.05),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.black,.15)},width:"100%"},e.breakpoints.up("sm"),{width:"100%"}),inputRoot:{color:"inherit",width:"100%"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"100%"})}}));function Wt(e){var t=At(),a=Object(r.useState)(""),n=Object(d.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(),s=Object(d.a)(o,2),b=s[0],h=s[1],p=Object(r.useState)({message:"",state:null}),m=Object(d.a)(p,2),O=m[0],g=m[1],f=Object(r.useState)(!1),x=Object(d.a)(f,2),k=x[0],I=x[1],N=Object(r.useContext)(M),S=Object(r.useContext)(C),P=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{S.login({username:c.toLowerCase(),password:b}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),console.log(t),t.data.ErrorMessage&&(localStorage.setItem("message",t.data.message),window.location=t.data.redirectURI),t.data.success&&(localStorage.removeItem("message"),localStorage.setItem("refreshToken",t.data.token),window.location=t.data.redirectURI);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=localStorage.getItem("message");e&&I(!0),g({message:e,state:!0})}),[N]),Object(D.jsxs)("div",{children:[Object(D.jsx)(Nt.a,{in:k,style:{display:O.message?"block":"none"},children:Object(D.jsxs)(Be.a,{severity:"error",variant:"filled",className:t.alert,action:Object(D.jsx)(Y.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){I(!1)},children:Object(D.jsx)(Pt.a,{fontSize:"inherit"})}),children:[Object(D.jsx)(ze.a,{children:"Error"}),O.message]})}),Object(D.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(D.jsx)(j.a,{}),Object(D.jsxs)("div",{className:t.paper,children:[Object(D.jsx)(st.a,{className:t.avatar,children:Object(D.jsx)(It.a,{})}),Object(D.jsx)(y.a,{component:"h1",variant:"h5",children:"Log in"}),Object(D.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:P,children:[Object(D.jsxs)(re.a,{container:!0,spacing:2,children:[Object(D.jsx)(re.a,{item:!0,xs:12,children:Object(D.jsx)("div",{className:t.search,children:Object(D.jsx)(w.a,{classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},placeholder:"Username",required:!0,fullWidth:!0,id:"Username",type:"Username",label:"Username",name:"Username",autoComplete:"username",onChange:function(e){return i(e.target.value)}})})}),Object(D.jsx)(re.a,{item:!0,xs:12,children:Object(D.jsx)("div",{className:t.search,children:Object(D.jsx)(w.a,{classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},placeholder:"Password",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return h(e.target.value)}})})})]}),Object(D.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onSubmit:P,children:"Log In"}),Object(D.jsxs)(re.a,{container:!0,children:[Object(D.jsx)("br",{}),Object(D.jsx)(re.a,{item:!0,children:Object(D.jsx)(v.a,{href:"/signup",color:"textSecondary",children:"Don't have an account? Sign Up"})})]})]})]})]})]})}var Dt=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"black"},form:{width:"100%",marginTop:e.spacing(3)},submit:{backgroundColor:"#e9e9e9",height:"2.5rem",width:"100%",marginTop:e.spacing(4),marginBottom:e.spacing(4),boxShadow:"-5px 5px 0px black",border:"solid 5px black",cursor:"pointer",borderRadius:0},alert:{width:"75vh",margin:"auto",marginTop:e.spacing(2)},search:Object(m.a)({spacing:e.spacing(2),padding:e.spacing(1),borderRadius:"5px",backgroundColor:Object(he.b)(e.palette.common.black,.05),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.black,.15)},width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),inputRoot:{color:"inherit",width:"100%"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function Tt(){var e=Dt(),t=Object(r.useState)(""),a=Object(d.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),s=o[0],b=o[1],h=Object(r.useState)(""),p=Object(d.a)(h,2),m=p[0],O=p[1],g=Object(r.useState)(!1),f=Object(d.a)(g,2),x=f[0],k=f[1],I=Object(r.useState)(),N=Object(d.a)(I,2),S=N[0],P=N[1],A=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,W=Object(r.useContext)(C),T=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{W.signup({username:it.a.lowerCase(n),email:it.a.toLower(m),password:s}).then((function(e){console.log(e,e.data),e.data.ErrorMessage&&localStorage.setItem("message",e.data.message),e.data.success&&(localStorage.removeItem("message"),localStorage.setItem("refreshToken",e.data.token),console.log(e.data.redirectURI),window.location=e.data.redirectURI)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)(Nt.a,{in:x,children:Object(D.jsxs)(Be.a,{severity:"error",variant:"filled",className:e.alert,action:Object(D.jsx)(Y.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){k(!1)},children:Object(D.jsx)(Pt.a,{fontSize:"inherit"})}),children:[Object(D.jsx)(ze.a,{children:"Error"}),S]})}),Object(D.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(D.jsx)(j.a,{}),Object(D.jsxs)("div",{className:e.paper,children:[Object(D.jsx)(st.a,{className:e.avatar,children:Object(D.jsx)(It.a,{})}),Object(D.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(D.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(D.jsxs)(re.a,{container:!0,spacing:2,children:[Object(D.jsx)(re.a,{item:!0,xs:12,children:Object(D.jsx)("div",{className:e.search,children:Object(D.jsx)(w.a,{classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},fullWidth:!0,placeholder:"Username",name:"Username",required:!0,id:"username",label:"Username",autoFocus:!0,onChange:function(e){return c(e.target.value)}})})}),Object(D.jsx)(re.a,{item:!0,xs:12,children:Object(D.jsx)("div",{className:e.search,children:Object(D.jsx)(w.a,{placeholder:"Email",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},required:!0,fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autocomplete:"email",onBlur:function(e){return function(e){e.preventDefault(),m.match(A)||(k(!0),P("Please, introduce a valid email format"))}(e)},onChange:function(e){return O(e.target.value)}})})}),Object(D.jsx)(re.a,{item:!0,xs:12,children:Object(D.jsx)("div",{className:e.search,children:Object(D.jsx)(w.a,{placeholder:"Password",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},name:"password",label:"Password",type:"password",fullWidth:!0,id:"password",onBlur:function(e){return function(e){e.preventDefault(),s.length<8&&(k(!0),P("Password must be longer than 8 characters"))}(e)},autocomplete:"current-password",onChange:function(e){return b(e.target.value)}})})}),Object(D.jsx)(re.a,{item:!0,xs:12})]}),Object(D.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return function(e){if(e.preventDefault(),n&&s&&m)return console.log("Check"),T();k(!0),P("All the fields are required")}(e)},className:e.submit,children:"Sign Up"}),Object(D.jsx)(re.a,{container:!0,justify:"flex-end",children:Object(D.jsx)(re.a,{item:!0,children:Object(D.jsx)(v.a,{href:"/login",color:"textSecondary",children:"Already have an account? Log in"})})})]})]})]})]})}var Rt=a(231),Lt=Object(f.a)((function(e){return{root:{},loginComponent:{width:"50%"},heroImg:{width:"40%",height:"80vmin"},heroLg:{width:"100%",paddingInline:"10rem",paddingTop:"3rem",position:"relative",display:"flex",justifyContent:"space-between"},about:{width:"100vw",height:"fit-content",position:"relative",display:"flex"},aboutBg:{backgroundColor:"#efefefcc",position:"absolute",zIndex:-1,width:"100%",height:"100%",clipPath:"polygon( 0% 100%, 100% 100%, 100% 0%, 0% 10%)"},aboutDescription:{height:"fit-content",display:"flex",padding:"10%"}}}));var qt=function(){var e=Lt(),t=Object(q.a)(),a=Object(F.a)(t.breakpoints.up("md"));return Object(D.jsxs)(D.Fragment,{children:[a?Object(D.jsxs)("section",{className:e.heroLg,children:[Object(D.jsx)(Wt,{className:e.loginComponent}),Object(D.jsx)(G.a,{orientation:"vertical",flexItem:!0}),Object(D.jsx)("div",{className:e.heroImg,children:Object(D.jsx)("img",{src:"084-photographer-monochrome.svg",alt:"Hero",style:{height:"80%",minWidht:"400px",margin:"2rem"}})})]}):Object(D.jsx)("section",{className:e.heroSm,children:Object(D.jsx)(Wt,{})}),Object(D.jsxs)("section",{className:e.about,children:[Object(D.jsx)("div",{className:e.aboutBg}),Object(D.jsxs)(re.a,{container:!0,spacing:1,className:e.aboutDescription,children:[Object(D.jsx)(re.a,{item:!0,xs:12,align:"right",children:Object(D.jsx)(y.a,{variant:"h2",color:"textPrimary",gutterBottom:!0,children:"Website features"})}),Object(D.jsx)(re.a,{item:!0,xs:12,sm:6,children:Object(D.jsxs)(re.a,{item:!0,children:[Object(D.jsxs)(pe.a,{children:[Object(D.jsx)(ge.a,{className:e.media,component:"img",image:"https://i.gyazo.com/e4ed5a0cd9b0084dc558e3b3f1850c3e.png",title:"Authenticated Users"}),Object(D.jsxs)(Rt.a,{children:[Object(D.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"User Authentication"}),Object(D.jsx)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:"Create diferent profiles using JWT refresh and access token. All the users get stored in MongoDB atlas"})]})]}),Object(D.jsxs)(pe.a,{style:{marginTop:"10px"},children:[Object(D.jsx)(ge.a,{className:e.media,component:"img",image:"https://i.gyazo.com/12bfee8dc9e7cdfdacf12fa5f8e75b74.png",title:"search bar"}),Object(D.jsxs)(Rt.a,{children:[Object(D.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Search Bar"}),Object(D.jsx)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:"Search bar powered by MongoDB Atlas to search for users, tags and collections among the database."})]})]})]})}),Object(D.jsx)(re.a,{item:!0,xs:12,sm:6,children:Object(D.jsxs)(re.a,{item:!0,children:[Object(D.jsxs)(pe.a,{children:[Object(D.jsx)(ge.a,{className:e.media,component:"img",image:"https://i.gyazo.com/6445f4bfc1cba22fd5dfbca5b1c7bd57.png",title:"upload images"}),Object(D.jsxs)(Rt.a,{children:[Object(D.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Upload Images"}),Object(D.jsx)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:"Drag and drop or select feature in order to upload the images to the node.js server."})]})]}),Object(D.jsxs)(pe.a,{style:{marginTop:"10px"},children:[Object(D.jsx)(ge.a,{className:e.media,component:"img",image:"https://i.gyazo.com/5f6d3189e031d243a995d5ac3e3169ba.png",title:"filter images"}),Object(D.jsxs)(Rt.a,{children:[Object(D.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Filter Images"}),Object(D.jsx)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:"Find images in the dashboard by tag, date or collection"})]})]})]})})]})]})]})},Ft=Object(f.a)((function(){return{root:{marginTop:"2vh",width:"fullWidth",borderRadius:0}}}));var Ut=function(){var e=Ft(),t=Object(r.useContext)(C),a=Object(r.useState)(),n=Object(d.a)(a,2),c=n[0],i=n[1],o=Object(L.g)().username;return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProfile(o).then((function(e){return e.data}));case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})))()}),[]),c?Object(D.jsxs)(Ge.a,{className:e.root,children:[Object(D.jsx)(gt,{profile:c}),Object(D.jsx)(rt,{collection:"profile",query:c.username})]}):Object(D.jsx)(Xe,{})};function Bt(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(D.jsxs)(Ge.a,{maxWidth:"md",style:{padding:"3rem",overflowWrap:"break-word"},children:[Object(D.jsx)(y.a,{variant:"h2",gutterBottom:!0,children:"About this website"}),Object(D.jsxs)(y.a,{variant:"subtitle1",color:"textSecondary",component:"p",children:["If for any reason you have landed in this page I want you to feel really special, you are probably the only person that has done it apart from me. If you are not a recruiter, I suggest to get back to your life, here is nothing interesting to see. But if you are a recruiter, \xa0",Object(D.jsx)(v.a,{onClick:function(){return n(!0)},component:"button",color:"textPrimary",variant:"subtitle1",children:"I'd like to say something to you"})]}),a&&Object(D.jsxs)(Nt.a,{in:a,children:[Object(D.jsx)("img",{src:"tenor.gif",alt:"hello",width:"400px"}),Object(D.jsxs)(y.a,{variant:"subtitle1",color:"textSecondary",component:"p",children:[Object(D.jsx)("br",{}),"Once all the jokes are made, I wanted to explain the meaning of this website. Due all the newbie mistakes I've made in the first place and seeing what a professional web looks like and the amount of improvements this web could have. I'm aware of the security problems, the mess in the code, the unfinished components and much more. So I decided\xa0to\xa0deploy\xa0the\xa0app, and\xa0start\xa0from\xa0scratch. The new web will use tools\xa0like\xa0dockers,\xa0CI/CD,\xa0typescript, next.js among other, and I will work on improving the security.",Object(D.jsx)("br",{}),"But not everithing is wrong about deploying an unfinished app. I've learn a lot building it and It's a representation of what I'm able to achieve and that I'm able to get many things done.",Object(D.jsx)("br",{}),"I\xa0hope\xa0that\xa0at\xa0least\xa0you\xa0can\xa0come\xa0through\xa0all\xa0these mistakes\xa0and\xa0see\xa0my\xa0real\xa0skills.",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),"Thanks\xa0for\xa0your\xa0time",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"Gonzalo Rodriguez"})]})]})]})}var zt=Object(f.a)((function(){return{root:{marginTop:"2vh",width:"fullWidth",borderRadius:0}}}));var Et=function(){var e=zt(),t=Object(L.g)(),a=t.collection,n=t.query;return Object(D.jsx)(Ge.a,{className:e.root,children:Object(D.jsx)(rt,{collection:a,query:n})})},Mt=function(e){var t=e.component,a=Object(le.a)(e,["component"]),n=Object(r.useContext)(E);return Object(D.jsx)(L.b,Object(ae.a)(Object(ae.a)({},a),{},{render:function(e){return n.isLoading?Object(D.jsx)(Xe,{}):n.auth?Object(D.jsx)(t,Object(ae.a)({},e)):Object(D.jsx)(L.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},_t=a(120),Gt=Object(_t.a)({typography:{useNextVariants:!0,fontFamily:["Roboto, Arial","Bebas Neue","Abril Fatface","Righteous","cursive"]},palette:{primary:{light:"#e9e9e9",main:"#cccc"},secondary:{main:"#000"},background:{default:"white"},info:{main:"#4A0738"}},shape:{borderRadius:10},textPrimary:{main:"#0000"},textSecondary:{main:"#ffff"},border:{border:"solid 5px black"},fontFamily:{body:"Saira Condensed"}}),Ht=a(232);var Zt=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),i=Object(d.a)(c,2),o=i[0],s=i[1],b=Object(r.useState)(!0),h=Object(d.a)(b,2),m=h[0],O=h[1];function g(){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(){var t,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,a=t.auth,r=t.user,c=t.isLoading,s(a),n(r),O(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){setInterval((function(){return g()}),6e5),g()}),[]),o&&m?Object(D.jsx)(Xe,{}):Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(Ht.a,{theme:Gt,children:Object(D.jsx)(M.Provider,{value:a,children:Object(D.jsxs)(E.Provider,{value:{auth:o,isLoading:m},children:[Object(D.jsx)(j.a,{}),Object(D.jsx)(te,{}),Object(D.jsxs)(L.d,{children:[Object(D.jsx)(L.b,{exact:!0,from:"/home",component:qt}),Object(D.jsx)(L.b,{exact:!0,from:"/",component:qt}),Object(D.jsx)(L.b,{exact:!0,from:"/about",component:Bt}),Object(D.jsx)(Mt,{exact:!0,path:"/dashboard",component:kt}),Object(D.jsx)(L.b,{exact:!0,path:"/signup",component:Tt}),Object(D.jsx)(L.b,{exact:!0,path:"/login",component:Wt}),Object(D.jsx)(L.b,{path:"/profile/:username",children:Object(D.jsx)(Ut,{})}),Object(D.jsx)(L.b,{path:"/:collection/:query",children:Object(D.jsx)(Et,{})}),Object(D.jsx)(L.b,{exact:!0,path:"/logout"}),Object(D.jsx)(L.b,{path:"*",component:at})]}),Object(D.jsx)(se,{})]})})})})},Kt=a(53),Yt={withCredentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"http://baogallery.herokuapp.com/"}},Jt="/api",Vt=function(e){return h.a.get("".concat(Jt,"/post/").concat(e))},$t=function(e,t){return h.a.get("".concat(Jt,"/posts/").concat(e,"/").concat(t))},Qt=function(e){return h.a.get("".concat(Jt,"/get-user/").concat(e),Yt)},Xt=function(e){return h.a.get("".concat(Jt,"/search/").concat(e),Yt)},ea=function(e){return h.a.post("".concat(Jt,"/upload-image"),e,Yt)},ta=function(e){return h.a.post("".concat(Jt,"/create-post"),e,{"Content-Type":"multipart/form-data"})},aa=function(e){return h.a.post("".concat(Jt,"/signup"),e,Yt)},na=function(e){return h.a.post("".concat(Jt,"/login"),e,Yt)},ra=function(){return h.a.get("".concat(Jt,"/login"),Yt)},ca=function(e){return h.a.post("".concat(Jt,"/logout"),e,Yt)},ia=function(e,t){return h.a.post("".concat(Jt,"/edit-profile/").concat(e),t)},oa=function(e){return h.a.patch("".concat(Jt,"/").concat(e,"/likePost"))},sa=function(e,t){return h.a.patch("".concat(Jt,"/").concat(e),t)},la=function(e,t){return h.a.delete("".concat(Jt,"/delete-post/").concat(e,"/").concat(t))};o.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(C.Provider,{value:n,children:Object(D.jsxs)(Kt.a,{children:[Object(D.jsx)(j.a,{}),Object(D.jsx)(Zt,{})]})})}),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.a7112fb4.chunk.js.map