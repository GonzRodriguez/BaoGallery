{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\createPost.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport Container from '@material-ui/core/Container';\nimport { ApiContext } from \"../../context/ApiContext\";\nimport { UserContext } from \"../../context/UserContext\";\nimport FileBase from 'react-file-base64';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  fileUpload: {\n    border: \"1px solid #ccc\",\n    borderRadius: \"50px\",\n    display: \"inline-block\",\n    padding: \"8px 10px\",\n    cursor: \"pointer\"\n  },\n  img: {\n    borderRadius: \"8px\",\n    maxWidth: \"40vh\",\n    cursor: \"pointer\"\n  },\n  margin: {\n    margin: theme.spacing(2)\n  },\n  filebase: {\n    display: \"none\"\n  }\n}));\nexport default function UploadImage(props) {\n  const [image, setImage] = useState({\n    preview: \"\",\n    raw: \"\",\n    preview1: \"\",\n    raw1: \"\",\n    preview2: \"\",\n    raw2: \"\",\n    preview3: \"\",\n    raw3: \"\"\n  });\n  const user = useContext(UserContext);\n  const api = useContext(ApiContext);\n  const classes = useStyles();\n\n  const handleChange = e => {\n    if (e.target.files.length) {\n      setImage({\n        preview0: URL.createObjectURL(e.target.files[0]),\n        raw0: e.target.files[0],\n        preview1: URL.createObjectURL(e.target.files[1]),\n        raw1: e.target.files[1],\n        preview2: URL.createObjectURL(e.target.files[2]),\n        raw2: e.target.files[2],\n        preview3: URL.createObjectURL(e.target.files[3]),\n        raw3: e.target.files[3]\n      });\n    }\n\n    handleUpload();\n  };\n\n  const {\n    username,\n    _id\n  } = user.data;\n\n  const handleUpload = async e => {\n    e.preventDefault();\n    const imageFormData = new FormData(document.getElementById(\"uploadImage\")); // formData.append(date, username)\n\n    for (const p of imageFormData) {\n      console.log(\"image log\", p);\n    } // api.createPost(post)\n    // await Axios.post(`http://localhost:3000/api/upload-image/${username}/${_id}`, { author: username })\n    // .then(\n    // await Axios({\n    //       method: \"POST\",\n    //       url: `http://localhost:3000/api/upload-image/${_id}`,\n    //       withCredentials: \"same-origin\",\n    //       data: imageFormData,\n    //       headers: {\n    //           \"Accept\": \"multipart/form-data\",\n    //           \"Content-Type\": \"application/x-www-form-urlencoded\",\n    //       },\n    //       })\n    //       .then(function (response) {\n    //           console.log(response.data);\n    //       })\n    //   )\n\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    m: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"uploadImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"upload-image-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, image.preview ? /*#__PURE__*/React.createElement(\"img\", {\n    src: image.preview,\n    alt: \"dummy\",\n    className: classes.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n    className: classes.fileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 48\n    }\n  })))), /*#__PURE__*/React.createElement(FileBase, {\n    type: \"file\",\n    multiple: true,\n    className: classes.filebase,\n    id: \"upload-image-button\",\n    name: \"uploadImage\",\n    style: {\n      display: \"none\"\n    },\n    onDone: ({\n      base64\n    }) => console.log(base64) // setProfileData({...profileData, avatar: base64 })\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      alignItems: \"center\"\n    },\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"Upload\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/createPost.jsx"],"names":["React","useState","useContext","makeStyles","AddIcon","Container","ApiContext","UserContext","FileBase","useStyles","theme","root","display","alignItems","fileUpload","border","borderRadius","padding","cursor","img","maxWidth","margin","spacing","filebase","UploadImage","props","image","setImage","preview","raw","preview1","raw1","preview2","raw2","preview3","raw3","user","api","classes","handleChange","e","target","files","length","preview0","URL","createObjectURL","raw0","handleUpload","username","_id","data","preventDefault","imageFormData","FormData","document","getElementById","p","console","log","base64"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Container from '@material-ui/core/Container';\r\nimport { ApiContext } from \"../../context/ApiContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport FileBase from 'react-file-base64'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: \"flex\",\r\n      alignItems: \"center\"\r\n    },\r\n    fileUpload : {  \r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"50px\",\r\n      display: \"inline-block\",\r\n      padding: \"8px 10px\",\r\n      cursor: \"pointer\",\r\n    },\r\n    img: {\r\n      borderRadius: \"8px\",\r\n      maxWidth: \"40vh\",\r\n      cursor: \"pointer\",\r\n    },\r\n    margin: {\r\n    margin: theme.spacing(2),\r\n    },\r\n    filebase: {\r\n      display: \"none\"\r\n    }\r\n\r\n}));\r\n\r\nexport default function UploadImage(props) {\r\n  const [image, setImage] = useState({ preview: \"\", raw: \"\", preview1: \"\", raw1: \"\", preview2: \"\", raw2: \"\", preview3: \"\", raw3: \"\",});\r\n  const user = useContext(UserContext)\r\n  const api = useContext(ApiContext)\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n  const handleChange = e => {\r\n    if (e.target.files.length) {\r\n      setImage({\r\n        preview0: URL.createObjectURL(e.target.files[0]),\r\n        raw0: e.target.files[0],\r\n        preview1: URL.createObjectURL(e.target.files[1]),\r\n        raw1: e.target.files[1],\r\n        preview2: URL.createObjectURL(e.target.files[2]),\r\n        raw2: e.target.files[2], \r\n        preview3: URL.createObjectURL(e.target.files[3]),\r\n        raw3: e.target.files[3],\r\n      });\r\n    }\r\n    handleUpload();\r\n  };\r\n  const {username, _id} = user.data\r\n\r\n  const handleUpload = async e => {\r\n    e.preventDefault();\r\n    const imageFormData = new FormData(document.getElementById(\"uploadImage\"));\r\n\r\n    // formData.append(date, username)\r\n    for (const p of imageFormData){\r\n          console.log(\"image log\", p);\r\n      }\r\n\r\n      // api.createPost(post)\r\n    // await Axios.post(`http://localhost:3000/api/upload-image/${username}/${_id}`, { author: username })\r\n    // .then(\r\n    // await Axios({\r\n    //       method: \"POST\",\r\n    //       url: `http://localhost:3000/api/upload-image/${_id}`,\r\n    //       withCredentials: \"same-origin\",\r\n    //       data: imageFormData,\r\n    //       headers: {\r\n    //           \"Accept\": \"multipart/form-data\",\r\n    //           \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    //       },\r\n    //       })\r\n    //       .then(function (response) {\r\n    //           console.log(response.data);\r\n    //       })\r\n    //   )\r\n    } \r\n  return (\r\n      <div className={classes.root}>\r\n      <Container m>\r\n      <form id=\"uploadImage\">\r\n      <label htmlFor=\"upload-image-button\">\r\n        {image.preview ? (\r\n        <img src={image.preview} alt=\"dummy\" className={classes.img}/>\r\n        ) : (\r\n          <>\r\n            <h5 className={classes.fileUpload}><AddIcon/></h5>\r\n          </>   \r\n        )}\r\n      </label>\r\n      {/* <input\r\n        type=\"file\"\r\n        id=\"upload-image-button\"\r\n        name=\"uploadImage\"\r\n        style={{ display: \"none\" }}\r\n        onChange={handleChange}\r\n      /> */}\r\n          <FileBase\r\n            type=\"file\"\r\n            multiple={true}\r\n            className={classes.filebase}\r\n            id=\"upload-image-button\"\r\n            name=\"uploadImage\"\r\n            style={{ display: \"none\" }}\r\n            onDone={({ base64 }) => console.log(base64) }\r\n            // setProfileData({...profileData, avatar: base64 })\r\n          />\r\n          <button style={{alignItems: \"center\"}} onClick={handleUpload}>Upload</button>\r\n      <br />\r\n      </form>\r\n      </Container>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}