{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport Axios from \"axios\";\nexport default function IsAuthenticated() {\n  const [authenticated, setAuthenticated] = useState(\"\");\n\n  const requestAuth = cb => {\n    const options = {\n      withCredentials: \"same-origin\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Cache\": \"no-cache\"\n      }\n    };\n    Axios.get(\"http://localhost:3000/api/isAuth\", options).then(response => {\n      console.log(response.data);\n      setAuthenticated(response.data);\n    }).then(() => {\n      cb();\n    });\n  }; // useEffect(() => {\n\n\n  requestAuth(); // }, []) \n\n  return authenticated;\n} // import Axios from \"axios\";\n// class Auth {\n//     constructor() {\n//         this.authenticated = false;\n//     }\n//     login(cb) {\n//         this.authenticated = true;\n//         cb();\n//     }\n//     async logout() {\n//         const options = {\n//             withCredentials: \"same-origin\",\n//             headers: {\n//                 \"Accept\": \"application/json\",\n//                 \"Content-Type\": \"application/json\",\n//                 \"Cache\": \"no-cache\"\n//             }\n//         }\n//         await Axios.get(\"http://localhost:3000/api/logout\", options).then (response => {\n//             console.log(response);\n//             // this.props.history.push(\"/\")\n//         })\n//             .then(this.authenticated = false)   \n//     }\n//      pepe() {\n//         // var authentication = false\n//         const options = {\n//             withCredentials: \"same-origin\",\n//             headers: {\n//                 \"Accept\": \"application/json\",\n//                 \"Content-Type\": \"application/json\",\n//                 \"Cache\": \"no-cache\"\n//             }\n//         };\n//          Axios.get(\"http://localhost:3000/api/isAuth\", options)\n//                                     .then(response => {\n//                                         console.log(response.data);\n//                                         if (response.data === true) {\n//                                             this.login(()=>{console.log(\"Debería estar loggedIn \" + this.authenticated)})\n//                                         }//this.authenticated = response.data\n//                                     })\n//                                     .then(() => {return this.authenticated})\n//         // cb()\n//         }\n//     isAuthenticated() {\n//         // this.pepe(() => { console.log(\"linea 52 \" + this.authenticated) })\n//         console.log(this.pepe);\n//         // this.pepe(this.authenticated)\n//     }\n// }\n// export default new Auth();","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/vamoss/src/components/auth.js"],"names":["React","useState","useEffect","Axios","IsAuthenticated","authenticated","setAuthenticated","requestAuth","cb","options","withCredentials","headers","get","then","response","console","log","data"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,eAAT,GAA2B;AACtC,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCL,QAAQ,CAAC,EAAD,CAAlD;;AAEA,QAAMM,WAAW,GAAIC,EAAD,IAAQ;AAExB,UAAMC,OAAO,GAAG;AACZC,MAAAA,eAAe,EAAE,aADL;AAEZC,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB,kBAFX;AAGL,iBAAS;AAHJ;AAFG,KAAhB;AASIR,IAAAA,KAAK,CAACS,GAAN,CAAU,kCAAV,EAA8CH,OAA9C,EAEKI,IAFL,CAEUC,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAX,MAAAA,gBAAgB,CAACQ,QAAQ,CAACG,IAAV,CAAhB;AAEH,KANL,EAOKJ,IAPL,CAOU,MAAM;AAACL,MAAAA,EAAE;AAAG,KAPtB;AAQP,GAnBD,CAHsC,CAwBtC;;;AACID,EAAAA,WAAW,GAzBuB,CA0BtC;;AACA,SACIF,aADJ;AAGH,C,CAGD;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Axios from \"axios\";\r\n\r\n\r\nexport default function IsAuthenticated() {\r\n    const [authenticated, setAuthenticated] = useState(\"\");\r\n\r\n    const requestAuth = (cb) => {\r\n\r\n        const options = {\r\n            withCredentials: \"same-origin\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Cache\": \"no-cache\"\r\n            }\r\n        };\r\n        \r\n            Axios.get(\"http://localhost:3000/api/isAuth\", options)\r\n        \r\n                .then(response => {\r\n                    console.log(response.data);\r\n                    setAuthenticated(response.data)\r\n        \r\n                })\r\n                .then(() => {cb()})\r\n    }\r\n\r\n    // useEffect(() => {\r\n        requestAuth();\r\n    // }, []) \r\n    return (\r\n        authenticated\r\n    )\r\n}\r\n\r\n\r\n// import Axios from \"axios\";\r\n\r\n// class Auth {\r\n//     constructor() {\r\n//         this.authenticated = false;\r\n//     }\r\n\r\n//     login(cb) {\r\n//         this.authenticated = true;\r\n//         cb();\r\n//     }\r\n//     async logout() {\r\n//         const options = {\r\n//             withCredentials: \"same-origin\",\r\n//             headers: {\r\n//                 \"Accept\": \"application/json\",\r\n//                 \"Content-Type\": \"application/json\",\r\n//                 \"Cache\": \"no-cache\"\r\n//             }\r\n//         }\r\n\r\n//         await Axios.get(\"http://localhost:3000/api/logout\", options).then (response => {\r\n//             console.log(response);\r\n//             // this.props.history.push(\"/\")\r\n//         })\r\n//             .then(this.authenticated = false)   \r\n//     }\r\n\r\n//      pepe() {\r\n\r\n//         // var authentication = false\r\n//         const options = {\r\n//             withCredentials: \"same-origin\",\r\n//             headers: {\r\n//                 \"Accept\": \"application/json\",\r\n//                 \"Content-Type\": \"application/json\",\r\n//                 \"Cache\": \"no-cache\"\r\n//             }\r\n//         };\r\n//          Axios.get(\"http://localhost:3000/api/isAuth\", options)\r\n        \r\n//                                     .then(response => {\r\n//                                         console.log(response.data);\r\n//                                         if (response.data === true) {\r\n//                                             this.login(()=>{console.log(\"Debería estar loggedIn \" + this.authenticated)})\r\n//                                         }//this.authenticated = response.data\r\n//                                     })\r\n//                                     .then(() => {return this.authenticated})\r\n//         // cb()\r\n//         }\r\n            \r\n//     isAuthenticated() {\r\n//         // this.pepe(() => { console.log(\"linea 52 \" + this.authenticated) })\r\n//         console.log(this.pepe);\r\n//         // this.pepe(this.authenticated)\r\n//     }\r\n    \r\n// }\r\n\r\n// export default new Auth();\r\n"]},"metadata":{},"sourceType":"module"}