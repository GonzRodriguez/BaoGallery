{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\UplaodImage.jsx\";\nimport React, { useState } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport Axios from \"axios\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  fileUpload: {\n    border: \"1px solid #ccc\",\n    borderRadius: \"50px\",\n    display: \"inline-block\",\n    padding: \"8px 10px\",\n    cursor: \"pointer\"\n  },\n  img: {\n    borderRadius: \"8px\",\n    maxWidth: \"40vh\"\n  }\n}));\nexport default function UploadImage(props) {\n  const [image, setImage] = useState({\n    preview: \"\",\n    raw: \"\"\n  });\n  const classes = useStyles();\n\n  const handleChange = e => {\n    if (e.target.files.length) {\n      setImage({\n        preview: URL.createObjectURL(e.target.files[0]),\n        raw: e.target.files[0]\n      });\n    }\n  };\n\n  const handleUpload = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    const author = props.user.username; // const author = new Blob(props.user.username, { type: 'text/html' });\n\n    formData.append(image, image.raw);\n\n    for (var p of formData) {\n      console.log(p);\n    }\n\n    await Axios({\n      method: \"POST\",\n      url: `http://localhost:3000/api/upload-image/${props.user._id}`,\n      withCredentials: \"same-origin\",\n      data: formData,\n      headers: {\n        \"Accept\": \"multipart/form-data\",\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (response) {\n      console.log(response.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"upload-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, image.preview ? /*#__PURE__*/React.createElement(\"img\", {\n    src: image.preview,\n    alt: \"dummy\",\n    className: classes.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa-stack fa-2x mt-3 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-circle fa-stack-2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-store fa-stack-1x fa-inverse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    className: classes.fileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 48\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"upload-button\",\n    style: {\n      display: \"none\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      alignItems: \"center\"\n    },\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Upload\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/UplaodImage.jsx"],"names":["React","useState","makeStyles","AddIcon","Axios","useStyles","theme","root","display","alignItems","fileUpload","border","borderRadius","padding","cursor","img","maxWidth","UploadImage","props","image","setImage","preview","raw","classes","handleChange","e","target","files","length","URL","createObjectURL","handleUpload","preventDefault","formData","FormData","author","user","username","append","p","console","log","method","url","_id","withCredentials","data","headers","then","response"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        alignItems: \"center\"\r\n    },\r\n    fileUpload : {\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"50px\",\r\n    display: \"inline-block\",\r\n    padding: \"8px 10px\",\r\n    cursor: \"pointer\",\r\n},\r\n    img: {\r\n        borderRadius: \"8px\",\r\n        maxWidth: \"40vh\"\r\n    }\r\n\r\n}));\r\n\r\nexport default function UploadImage(props) {\r\n  const [image, setImage] = useState({ preview: \"\", raw: \"\"});\r\n\r\n    const classes = useStyles();\r\n\r\n\r\n  const handleChange = e => {\r\n    if (e.target.files.length) {\r\n      setImage({\r\n        preview: URL.createObjectURL(e.target.files[0]),\r\n        raw: e.target.files[0],  \r\n      });\r\n    }\r\n  };\r\n\r\n  const handleUpload = async e => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const author = props.user.username\r\n    // const author = new Blob(props.user.username, { type: 'text/html' });\r\n    formData.append(image, image.raw, )\r\n      for (var p of formData){\r\n          console.log(p);\r\n      }\r\n\r\n      await Axios({\r\n          method: \"POST\",\r\n          url: `http://localhost:3000/api/upload-image/${props.user._id}`,\r\n          withCredentials: \"same-origin\",\r\n          data: formData,\r\n          headers: {\r\n              \"Accept\": \"multipart/form-data\",\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n      })\r\n          .then(function (response) {\r\n              console.log(response.data);\r\n          })\r\n\r\n        }\r\n  return (\r\n      <div className={classes.root}>\r\n      <label htmlFor=\"upload-button\">\r\n        {image.preview ? (\r\n        <img src={image.preview} alt=\"dummy\" className={classes.img}/>\r\n        ) : (\r\n          <>\r\n            <span className=\"fa-stack fa-2x mt-3 mb-2\">\r\n              <i className=\"fas fa-circle fa-stack-2x\" />\r\n              <i className=\"fas fa-store fa-stack-1x fa-inverse\" />\r\n            </span>\r\n            <h5 className={classes.fileUpload}><AddIcon/></h5>\r\n          </>   \r\n        )}\r\n      </label>\r\n      <input\r\n        type=\"file\"\r\n        id=\"upload-button\"\r\n        style={{ display: \"none\" }}\r\n        onChange={handleChange}\r\n      />\r\n          <button style={{alignItems: \"center\"}} onClick={handleUpload}>Upload</button>\r\n      <br />\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}