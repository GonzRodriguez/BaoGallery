{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\CreatePostForm.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { ApiContext } from \"../../context/ApiContext\";\nimport { UserContext } from \"../../context/UserContext\";\nimport _ from \"lodash\";\nimport { InputLabel, InputAdornment, Input, Button, Grid, Link, Paper } from '@material-ui/core';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport LabelIcon from '@material-ui/icons/Label';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nexport default function CreatePostForm(props) {\n  const [tags, setTags] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [price, setPrice] = useState();\n  const user = useContext(UserContext);\n  const api = useContext(ApiContext);\n  const {\n    username,\n    _id\n  } = user.data;\n\n  const date = () => {\n    const day = new Date().getDate();\n    const month = new Date().getMonth() + 1;\n    const year = new Date().getFullYear();\n    return day + \"-\" + month + \"-\" + year;\n  };\n\n  const handleUpload = () => {\n    props.images.forEach(image => {\n      const post = {\n        creator: username,\n        creatorId: _id,\n        image: image,\n        createdAt: date(),\n        price: price,\n        tags: tags\n      };\n      api.createPost(post);\n    });\n    console.log(new Date().getDate());\n  };\n\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      setTags(prevTags => prevTags.concat(_.lowerCase(inputValue)));\n      setInputValue(\"\");\n    }\n  };\n\n  const handleTags = async e => {\n    setTags(prevTags => prevTags.concat(_.lowerCase(inputValue)));\n    setInputValue(\"\");\n  };\n\n  const tagsArray = tags.map(tag => {\n    return /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: tag,\n      key: tag,\n      onClick: e => e.preventDefault(),\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \" #\" + tag), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ClearIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    })));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    style: {\n      fontSize: 13\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Choose a price\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"Price\",\n    fullWidth: true,\n    required: true,\n    placeholder: \"5$\",\n    type: \"number\",\n    onChange: e => setPrice(e.target.value),\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 38\n      }\n    }, \" \", /*#__PURE__*/React.createElement(MonetizationOnIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 72\n      }\n    }), \" \"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    style: {\n      fontSize: 13\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Tags\"), /*#__PURE__*/React.createElement(Input, {\n    fullWidth: true,\n    id: \"Tags\",\n    value: inputValue,\n    placeholder: \"Red dress...\",\n    onChange: e => setInputValue(e.target.value),\n    onKeyDown: handleKeyDown,\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 38\n      }\n    }, \" \", /*#__PURE__*/React.createElement(LabelIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 72\n      }\n    }), \" \"),\n    endAdornment: /*#__PURE__*/React.createElement(Button, {\n      onClick: handleTags,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 36\n      }\n    }, \" ADD \"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, tagsArray && tagsArray), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    fullWidth: true,\n    startIcon: /*#__PURE__*/React.createElement(CloudUploadIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 32\n      }\n    }),\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Upload\")));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/CreatePostForm.jsx"],"names":["React","useState","useContext","ApiContext","UserContext","_","InputLabel","InputAdornment","Input","Button","Grid","Link","Paper","MonetizationOnIcon","CloudUploadIcon","LabelIcon","IconButton","ClearIcon","CreatePostForm","props","tags","setTags","inputValue","setInputValue","price","setPrice","user","api","username","_id","data","date","day","Date","getDate","month","getMonth","year","getFullYear","handleUpload","images","forEach","image","post","creator","creatorId","createdAt","createPost","console","log","handleKeyDown","e","key","prevTags","concat","lowerCase","handleTags","tagsArray","map","tag","preventDefault","fontSize","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { ApiContext } from \"../../context/ApiContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport _ from \"lodash\"\r\n\r\nimport { InputLabel, InputAdornment, Input, Button, Grid, Link, Paper } from '@material-ui/core';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport LabelIcon from '@material-ui/icons/Label';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function CreatePostForm(props) {\r\n    const [tags, setTags] = useState([]);\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n    const [price, setPrice] = useState();\r\n    const user = useContext(UserContext)\r\n    const api = useContext(ApiContext)\r\n    const { username, _id } = user.data\r\n\r\n    const date = () => {\r\n\r\n        const day = new Date().getDate()\r\n        const month = new Date().getMonth() + 1\r\n        const year = new Date().getFullYear()\r\n        return day + \"-\" + month + \"-\" + year\r\n    }\r\n\r\n    const handleUpload = () => {\r\n\r\n        props.images.forEach(image => {    \r\n            const post = {\r\n                creator: username,\r\n                creatorId: _id,\r\n                image: image,\r\n                createdAt: date(),\r\n                price: price,\r\n                tags: tags\r\n            }\r\n\r\n            api.createPost(post)\r\n        });\r\n        console.log(new Date().getDate());\r\n    }\r\n    \r\n    const handleKeyDown = (e) => {\r\n        if (e.key === 'Enter') { \r\n        setTags(prevTags => prevTags.concat(_.lowerCase(inputValue)))    \r\n        setInputValue(\"\")   \r\n        }\r\n    }\r\n    const handleTags = async (e) => {\r\n        setTags(prevTags => prevTags.concat(_.lowerCase(inputValue)))\r\n        setInputValue(\"\")\r\n    }\r\n    \r\n    const tagsArray = tags.map(tag => {\r\n        return (\r\n            <Paper>\r\n            <Link href={tag} key={tag} onClick={(e) => e.preventDefault()} variant=\"body2\">\r\n                {\" #\" + tag}\r\n            </Link>\r\n                <IconButton size=\"small\" aria-label=\"delete\">\r\n                <ClearIcon/>\r\n                </IconButton>\r\n            </Paper>\r\n        )\r\n    })\r\n    return (\r\n        <div>\r\n            <Grid item >\r\n                <InputLabel style={{ fontSize: 13 }}>Choose a price</InputLabel>\r\n                <Input\r\n                    id=\"Price\"\r\n                    fullWidth\r\n                    required\r\n                    placeholder=\"5$\"\r\n                    type=\"number\"\r\n                    onChange={(e) => setPrice( e.target.value )}\r\n                    startAdornment={ <InputAdornment position=\"start\"> <MonetizationOnIcon /> </InputAdornment> }\r\n                />\r\n            </Grid>\r\n            <br />\r\n            <Grid item>\r\n                <InputLabel style={{ fontSize: 13 }}>Tags</InputLabel>\r\n                <Input\r\n                    fullWidth\r\n                    id=\"Tags\"\r\n                    value={inputValue}\r\n                    placeholder=\"Red dress...\"\r\n                    onChange={(e) => setInputValue(e.target.value)}\r\n                    onKeyDown={handleKeyDown}\r\n                    startAdornment={ <InputAdornment position=\"start\"> <LabelIcon /> </InputAdornment> }\r\n                    endAdornment={ <Button onClick={handleTags} > ADD </Button> }\r\n                />\r\n            </Grid>\r\n            <br />\r\n            <Grid item>\r\n                    {tagsArray && tagsArray}\r\n            </Grid>\r\n            <br />\r\n            <Grid item>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"default\"\r\n                    fullWidth\r\n                    startIcon={<CloudUploadIcon />}\r\n                    onClick={handleUpload}\r\n                >\r\n                    Upload\r\n                </Button>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}