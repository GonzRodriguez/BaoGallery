{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\CreatePostForm.jsx\";\nimport React, { useState, useContext, useRef } from \"react\";\nimport { ApiContext } from \"../../context/ApiContext\";\nimport { UserContext } from \"../../context/UserContext\";\nimport { InputLabel, InputAdornment, Input, Button, Grid, Link } from '@material-ui/core';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport LabelIcon from '@material-ui/icons/Label';\nexport default function CreatePostForm(props) {\n  const [tags, setTags] = useState([]);\n  const user = useContext(UserContext);\n  const api = useContext(ApiContext);\n  const {\n    username,\n    _id\n  } = user.data;\n  const {\n    inputField,\n    setInputField\n  } = useState({\n    price: \"\",\n    tags: \"\"\n  });\n  const inputRef = useRef();\n\n  const handleUpload = async e => {\n    const post = {\n      creator: username,\n      creatorId: _id,\n      image: props.images,\n      created: new Date().getDay() // price: price,\n      // tags: tags\n\n    };\n    api.createPost(post);\n  };\n\n  const handleState = e => {\n    setTags(prevTags => prevTags.concat(\" #\" + e.target.value));\n    inputField.current.value = \"\";\n  };\n\n  const handleKeyDown = e => {\n    e.key === 'Enter' && setTags(prevTags => prevTags.concat(\"#\" + e.target.value)); // setInputField({tags: \"\"})\n  };\n\n  const handleInputField = e => {\n    setTags(...tags, e.target.value); // setInputField({tags: e.target.value})\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    style: {\n      fontSize: 13\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Choose a price\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"Price\",\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"5$\",\n    name: \"price\",\n    type: \"number\" // onChange={(e) => setTags( ...tags, e.target.value )}\n    ,\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MonetizationOnIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    style: {\n      fontSize: 13\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Tags\"), /*#__PURE__*/React.createElement(Input, {\n    style: {\n      width: \"100%\"\n    },\n    id: \"Tags\" // value={inputField.tags}\n    ,\n    name: \"tags\",\n    ref: inputRef,\n    placeholder: \"Red dress...\",\n    onKeyDown: handleKeyDown // onChange={handleInputField}\n    ,\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(LabelIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    })),\n    endAdornment: /*#__PURE__*/React.createElement(Button, {\n      onClick: handleState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, \"ADD\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, tags && tags.map(tag => /*#__PURE__*/React.createElement(Link, {\n    href: tag,\n    key: tag,\n    onClick: e => e.preventDefault(),\n    color: \"secondary\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, tag))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    fullWidth: true,\n    startIcon: /*#__PURE__*/React.createElement(CloudUploadIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 32\n      }\n    }),\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Upload\")));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/CreatePostForm.jsx"],"names":["React","useState","useContext","useRef","ApiContext","UserContext","InputLabel","InputAdornment","Input","Button","Grid","Link","MonetizationOnIcon","CloudUploadIcon","LabelIcon","CreatePostForm","props","tags","setTags","user","api","username","_id","data","inputField","setInputField","price","inputRef","handleUpload","e","post","creator","creatorId","image","images","created","Date","getDay","createPost","handleState","prevTags","concat","target","value","current","handleKeyDown","key","handleInputField","fontSize","width","map","tag","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,MAAtC,QAAoD,OAApD;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,WAAT,QAA4B,2BAA5B;AAEA,SAASC,UAAT,EAAqBC,cAArB,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDC,IAApD,EAA0DC,IAA1D,QAAsE,mBAAtE;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAIA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC1C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMkB,IAAI,GAAGjB,UAAU,CAACG,WAAD,CAAvB;AACA,QAAMe,GAAG,GAAGlB,UAAU,CAACE,UAAD,CAAtB;AACA,QAAM;AAAEiB,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAoBH,IAAI,CAACI,IAA/B;AACA,QAAM;AAACC,IAAAA,UAAD;AAAaC,IAAAA;AAAb,MAA8BxB,QAAQ,CAAC;AAACyB,IAAAA,KAAK,EAAE,EAAR;AAAYT,IAAAA,IAAI,EAAE;AAAlB,GAAD,CAA5C;AACA,QAAMU,QAAQ,GAAGxB,MAAM,EAAvB;;AAGA,QAAMyB,YAAY,GAAG,MAAMC,CAAN,IAAW;AAG5B,UAAMC,IAAI,GAAG;AACTC,MAAAA,OAAO,EAAEV,QADA;AAETW,MAAAA,SAAS,EAAEV,GAFF;AAGTW,MAAAA,KAAK,EAAEjB,KAAK,CAACkB,MAHJ;AAITC,MAAAA,OAAO,EAAE,IAAIC,IAAJ,GAAWC,MAAX,EAJA,CAKT;AACA;;AANS,KAAb;AASAjB,IAAAA,GAAG,CAACkB,UAAJ,CAAeR,IAAf;AACH,GAbD;;AAcA,QAAMS,WAAW,GAAIV,CAAD,IAAO;AACvBX,IAAAA,OAAO,CAACsB,QAAQ,IAAIA,QAAQ,CAACC,MAAT,CAAgB,OAAOZ,CAAC,CAACa,MAAF,CAASC,KAAhC,CAAb,CAAP;AACAnB,IAAAA,UAAU,CAACoB,OAAX,CAAmBD,KAAnB,GAA2B,EAA3B;AACH,GAHD;;AAIA,QAAME,aAAa,GAAIhB,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACiB,GAAF,KAAU,OAAV,IAAqB5B,OAAO,CAACsB,QAAQ,IAAIA,QAAQ,CAACC,MAAT,CAAgB,MAAMZ,CAAC,CAACa,MAAF,CAASC,KAA/B,CAAb,CAA5B,CADyB,CAEzB;AACH,GAHD;;AAKA,QAAMI,gBAAgB,GAAIlB,CAAD,IAAO;AAC5BX,IAAAA,OAAO,CAAC,GAAGD,IAAJ,EAAUY,CAAC,CAACa,MAAF,CAASC,KAAnB,CAAP,CAD4B,CAE5B;AACH,GAHD;;AAIA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAEK,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,oBAAC,KAAD;AACI,IAAA,EAAE,EAAC,OADP;AAEI,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAFX;AAGI,IAAA,WAAW,EAAC,IAHhB;AAII,IAAA,IAAI,EAAC,OAJT;AAKI,IAAA,IAAI,EAAC,QALT,CAMI;AANJ;AAOI,IAAA,cAAc,eACV,oBAAC,cAAD;AAAgB,MAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBJ,eAmBI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,oBAAC,KAAD;AACI,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KADX;AAEI,IAAA,EAAE,EAAC,MAFP,CAGI;AAHJ;AAII,IAAA,IAAI,EAAC,MAJT;AAKI,IAAA,GAAG,EAAEtB,QALT;AAMI,IAAA,WAAW,EAAC,cANhB;AAOI,IAAA,SAAS,EAAEkB,aAPf,CAQI;AARJ;AASI,IAAA,cAAc,eACV,oBAAC,cAAD;AAAgB,MAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAVR;AAcI,IAAA,YAAY,eACR,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAEN,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAfR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAnBJ,eA0CI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1CJ,eA2CI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACStB,IAAI,IAAIA,IAAI,CAACiC,GAAL,CAASC,GAAG,iBACjB,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEA,GAAZ;AAAiB,IAAA,GAAG,EAAEA,GAAtB;AAA2B,IAAA,OAAO,EAAGtB,CAAD,IAAOA,CAAC,CAACuB,cAAF,EAA3C;AAA+D,IAAA,KAAK,EAAC,WAArE;AAAiF,IAAA,OAAO,EAAC,OAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,GADL,CADK,CADjB,CA3CJ,eAkDI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlDJ,eAmDI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,OAAO,EAAC,WADZ;AAEI,IAAA,KAAK,EAAC,SAFV;AAGI,IAAA,SAAS,MAHb;AAII,IAAA,SAAS,eAAE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJf;AAKI,IAAA,OAAO,EAAEvB,YALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAnDJ,CADJ;AAiEH","sourcesContent":["import React, { useState, useContext, useRef } from \"react\";\r\nimport { ApiContext } from \"../../context/ApiContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\n\r\nimport { InputLabel, InputAdornment, Input, Button, Grid, Link } from '@material-ui/core';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport LabelIcon from '@material-ui/icons/Label';\r\n\r\n\r\n\r\nexport default function CreatePostForm(props) {\r\n    const [tags, setTags] = useState([]);\r\n    const user = useContext(UserContext)\r\n    const api = useContext(ApiContext)\r\n    const { username, _id } = user.data\r\n    const {inputField, setInputField} = useState({price: \"\", tags: \"\"})\r\n    const inputRef = useRef()\r\n\r\n\r\n    const handleUpload = async e => {\r\n\r\n\r\n        const post = {\r\n            creator: username,\r\n            creatorId: _id,\r\n            image: props.images,\r\n            created: new Date().getDay(),\r\n            // price: price,\r\n            // tags: tags\r\n        }\r\n\r\n        api.createPost(post)\r\n    }\r\n    const handleState = (e) => {\r\n        setTags(prevTags => prevTags.concat(\" #\" + e.target.value));\r\n        inputField.current.value = \"\"\r\n    }\r\n    const handleKeyDown = (e) => {\r\n        e.key === 'Enter' && setTags(prevTags => prevTags.concat(\"#\" + e.target.value));\r\n        // setInputField({tags: \"\"})\r\n    }\r\n\r\n    const handleInputField = (e) => {\r\n        setTags(...tags, e.target.value);\r\n        // setInputField({tags: e.target.value})\r\n    }\r\n    return (\r\n        <form >\r\n            <Grid item >\r\n                <InputLabel style={{ fontSize: 13 }}>Choose a price</InputLabel>\r\n                <Input\r\n                    id=\"Price\"\r\n                    style={{ width: \"100%\" }}\r\n                    placeholder=\"5$\"\r\n                    name=\"price\"\r\n                    type=\"number\"\r\n                    // onChange={(e) => setTags( ...tags, e.target.value )}\r\n                    startAdornment={\r\n                        <InputAdornment position=\"start\">\r\n                            <MonetizationOnIcon />\r\n                        </InputAdornment>\r\n                    }\r\n                   \r\n                />\r\n            </Grid>\r\n            <br />\r\n            <Grid item>\r\n                <InputLabel style={{ fontSize: 13 }}>Tags</InputLabel>\r\n                <Input\r\n                    style={{ width: \"100%\" }}\r\n                    id=\"Tags\"\r\n                    // value={inputField.tags}\r\n                    name=\"tags\"\r\n                    ref={inputRef}\r\n                    placeholder=\"Red dress...\"\r\n                    onKeyDown={handleKeyDown}\r\n                    // onChange={handleInputField}\r\n                    startAdornment={\r\n                        <InputAdornment position=\"start\">\r\n                            <LabelIcon />\r\n                        </InputAdornment>\r\n                    }\r\n                    endAdornment={\r\n                        <Button onClick={handleState}>\r\n                            ADD\r\n                        </Button>\r\n                    }\r\n                />\r\n            </Grid>\r\n            <br />\r\n            <Grid item>\r\n                    {tags && tags.map(tag => \r\n                        <Link href={tag} key={tag} onClick={(e) => e.preventDefault()} color=\"secondary\" variant=\"body2\">\r\n                            {tag}\r\n                        </Link>\r\n                    )}\r\n            </Grid>\r\n            <br />\r\n            <Grid item>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"default\"\r\n                    fullWidth\r\n                    startIcon={<CloudUploadIcon />}\r\n                    onClick={handleUpload}\r\n                >\r\n                    Upload\r\n                </Button>\r\n            </Grid>\r\n        </form>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}