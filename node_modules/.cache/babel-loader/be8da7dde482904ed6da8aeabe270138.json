{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\createPost.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport Container from '@material-ui/core/Container';\nimport { ApiContext } from \"../../context/ApiContext\";\nimport { UserContext } from \"../../context/UserContext\";\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid'; // import FileBase from 'react-file-base64'\n// import Axios from \"axios\"\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    borderRadius: \"0\"\n  },\n  fileUpload: {\n    border: \"1px solid #ccc\",\n    borderRadius: \"50px\",\n    display: \"inline-block\",\n    padding: \"8px 10px\",\n    cursor: \"pointer\"\n  },\n  img: {\n    borderRadius: \"8px\",\n    maxWidth: \"40vh\",\n    cursor: \"pointer\"\n  },\n  margin: {\n    margin: theme.spacing(2)\n  },\n  filebase: {\n    display: \"none\"\n  }\n}));\nexport default function CreatePost(props) {\n  // const [image, setImage] = useState({ preview0: \"\", raw0: \"\", });\n  const [images, setImages] = useState([]); // preview1: \"\", raw1: \"\", preview2: \"\", raw2: \"\", preview3: \"\", raw3: \"\",\n\n  const user = useContext(UserContext);\n  const api = useContext(ApiContext);\n  const classes = useStyles();\n\n  const handleChange = async e => {\n    try {\n      Array.from(e.target.files).forEach(file => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onloadend = () => {\n          if (reader.readyState === 2) {\n            setImages(reader.result);\n          }\n        };\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(images); // handleUpload();\n\n  const {\n    username,\n    _id\n  } = user.data;\n\n  const handleUpload = async e => {}; // api.createPost(post)\n  //   await Axios.post(`http://localhost:3000/api/upload-image/${username}/${_id}`, { author: username })\n  //   .then(\n  //   await Axios({\n  //         method: \"POST\",\n  //         url: `http://localhost:3000/api/upload-image/${_id}`,\n  //         withCredentials: \"same-origin\",\n  //         data: imageFormData,\n  //         headers: {\n  //             \"Accept\": \"multipart/form-data\",\n  //             \"Content-Type\": \"application/x-www-form-urlencoded\",\n  //         },\n  //         })\n  //         .then(function (response) {\n  //             console.log(response.data);\n  //         })\n  //     )\n  //   } \n  // function FileBase64(){\n  //   base64Images.map(image => <img src={image} alt=\"post\" className={classes.img} /> )\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"uploadImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"upload-image-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardActionArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    component: \"img\",\n    alt: \"Contemplative Reptile\",\n    height: \"180vh\",\n    image: images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(CardMedia, {\n    component: \"img\",\n    alt: \"Contemplative Reptile\",\n    height: \"180vh\",\n    image: images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: classes.fileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 52\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"Upload\"))))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"upload-image-button\",\n    name: \"uploadImage\",\n    multiple: true,\n    style: {\n      display: \"none\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/createPost.jsx"],"names":["React","useState","useContext","makeStyles","AddIcon","Container","ApiContext","UserContext","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","Button","Grid","useStyles","theme","root","display","alignItems","borderRadius","fileUpload","border","padding","cursor","img","maxWidth","margin","spacing","filebase","CreatePost","props","images","setImages","user","api","classes","handleChange","e","Array","from","target","files","forEach","file","reader","FileReader","readAsDataURL","onloadend","readyState","result","error","console","log","username","_id","data","handleUpload"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Container from '@material-ui/core/Container';\r\nimport { ApiContext } from \"../../context/ApiContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import FileBase from 'react-file-base64'\r\n// import Axios from \"axios\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      borderRadius: \"0\"\r\n    },\r\n    fileUpload : {  \r\n      border: \"1px solid #ccc\",\r\n      borderRadius: \"50px\",\r\n      display: \"inline-block\",\r\n      padding: \"8px 10px\",\r\n      cursor: \"pointer\",\r\n    },\r\n    img: {\r\n      borderRadius: \"8px\",\r\n      maxWidth: \"40vh\",\r\n      cursor: \"pointer\",\r\n    },\r\n    margin: {\r\n    margin: theme.spacing(2),\r\n    },\r\n    filebase: {\r\n      display: \"none\"\r\n    }\r\n\r\n}));\r\n\r\nexport default function CreatePost(props) {\r\n  // const [image, setImage] = useState({ preview0: \"\", raw0: \"\", });\r\n  const [images, setImages] = useState([]);\r\n  // preview1: \"\", raw1: \"\", preview2: \"\", raw2: \"\", preview3: \"\", raw3: \"\",\r\n  const user = useContext(UserContext)\r\n  const api = useContext(ApiContext)\r\n\r\n  const classes = useStyles();\r\n  const handleChange = async e => {\r\n    \r\n    try {\r\n      \r\n      Array.from(e.target.files).forEach(file => { \r\n        \r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file)\r\n        reader.onloadend = () => {\r\n          if (reader.readyState === 2) {\r\n            setImages(reader.result)\r\n            \r\n          }\r\n        }\r\n    })\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n  }\r\n  console.log(images);\r\n    // handleUpload();\r\n  const {username, _id} = user.data\r\n\r\n  const handleUpload = async e => {\r\n      }\r\n\r\n      // api.createPost(post)\r\n  //   await Axios.post(`http://localhost:3000/api/upload-image/${username}/${_id}`, { author: username })\r\n  //   .then(\r\n  //   await Axios({\r\n  //         method: \"POST\",\r\n  //         url: `http://localhost:3000/api/upload-image/${_id}`,\r\n  //         withCredentials: \"same-origin\",\r\n  //         data: imageFormData,\r\n  //         headers: {\r\n  //             \"Accept\": \"multipart/form-data\",\r\n  //             \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n  //         },\r\n  //         })\r\n  //         .then(function (response) {\r\n  //             console.log(response.data);\r\n  //         })\r\n  //     )\r\n  //   } \r\n\r\n      // function FileBase64(){\r\n      //   base64Images.map(image => <img src={image} alt=\"post\" className={classes.img} /> )\r\n      // }\r\n\r\n  return (\r\n      <div className={classes.root}>\r\n      <Container >\r\n      <form id=\"uploadImage\">\r\n      <label htmlFor=\"upload-image-button\">\r\n            {/* {images.map(image => <img src={image} alt=\"postImage\" />) } */}\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={10} sm={8}>\r\n            <Card className={classes.root}>\r\n              <CardActionArea>\r\n                <CardMedia\r\n                  component=\"img\"\r\n                  alt=\"Contemplative Reptile\"\r\n                  height=\"180vh\"\r\n                  image={images}\r\n                />\r\n                    <CardMedia\r\n                      component=\"img\"\r\n                      alt=\"Contemplative Reptile\"\r\n                      height=\"180vh\"\r\n                      image={images}\r\n                    />\r\n\r\n              </CardActionArea>\r\n              <CardActions>\r\n              </CardActions>\r\n                <h5 className={classes.fileUpload}><AddIcon /></h5>\r\n                <Button size=\"small\" color=\"primary\">\r\n                  Upload\r\n                </Button>\r\n            </Card>\r\n            </Grid>\r\n          </Grid>\r\n      </label>\r\n      <input\r\n        type=\"file\"\r\n        id=\"upload-image-button\"\r\n        name=\"uploadImage\"\r\n        multiple\r\n        style={{ display: \"none\" }}\r\n        onChange={handleChange}\r\n      />\r\n          {/* <FileBase\r\n            type=\"file\"\r\n            multiple={true}\r\n            className={classes.filebase}\r\n            id=\"upload-image-button\"\r\n            name=\"uploadImage\"\r\n            style={{ display: \"none\" }}\r\n            onDone={({ base64 }) => console.log(base64) }\r\n            // setProfileData({...profileData, avatar: base64 })\r\n          /> */}\r\n          {/* <button style={{alignItems: \"center\"}} onClick={handleUpload}>Upload</button> */}\r\n      <br />\r\n      </form>\r\n      </Container>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}