{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\UserAvatar.jsx\";\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Axios from \"axios\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport AddIcon from '@material-ui/icons/Add';\nimport Fade from '@material-ui/core/Fade';\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nconst useStyles = makeStyles(theme => ({\n  root: {// backgroundImage: 'url(\"../../public/avatar-default.png\")'\n  },\n  avatarHover: {\n    backgroundColor: \"rgba(0, 0, 0, 0.2);\",\n    display: \"flex\",\n    width: \"100%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    position: \"absolut\",\n    zIndex: 1\n  }\n}));\nexport default function UserAvatar(props) {\n  const [isShown, setIsShown] = useState(false);\n  const classes = useStyles();\n  const [profileAvatar, setProfileAvatar] = useState();\n  const {\n    username,\n    _id\n  } = props.user;\n\n  const handleAvatarUpload = async e => {\n    e.preventDefault();\n    const avatarFormData = new FormData(document.getElementById(\"uploadAvatarImage\")); // formData.append(date, username)\n\n    for (const p of avatarFormData) {\n      console.log(p);\n    }\n\n    await Axios.post(`http://localhost:3000/api/upload-image/${username}/${_id}`).then(await Axios({\n      method: \"POST\",\n      url: `http://localhost:3000/api/upload-image/${_id}`,\n      withCredentials: \"same-origin\",\n      data: avatarFormData,\n      headers: {\n        \"Accept\": \"multipart/form-data\",\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (response) {\n      console.log(response.data);\n    }));\n  };\n\n  Axios.get(`http://localhost:3000/api/get-images/avatar/${_id}`).then(function (response) {\n    console.log(response.data);\n  });\n  return /*#__PURE__*/React.createElement(\"form\", {\n    id: \"uploadAvatarImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Avatar // className={classes.root}\n  , {\n    variant: \"rounded\",\n    onMouseEnter: () => setIsShown(true),\n    onMouseLeave: () => setIsShown(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"upload-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Fade, {\n    in: isShown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.avatarHover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"uploadImage\",\n    id: \"upload-button\",\n    name: \"uploadImage\",\n    style: {\n      display: \"none\"\n    },\n    onChange: handleAvatarUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/UserAvatar.jsx"],"names":["React","useState","makeStyles","Axios","Avatar","AddIcon","Fade","AccountBoxIcon","useStyles","theme","root","avatarHover","backgroundColor","display","width","height","alignItems","justifyContent","position","zIndex","UserAvatar","props","isShown","setIsShown","classes","profileAvatar","setProfileAvatar","username","_id","user","handleAvatarUpload","e","preventDefault","avatarFormData","FormData","document","getElementById","p","console","log","post","then","method","url","withCredentials","data","headers","response","get"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AAEA,MAAMC,SAAS,GAAGN,UAAU,CAAEO,KAAD,KAAY;AACrCC,EAAAA,IAAI,EAAE,CACF;AADE,GAD+B;AAIrCC,EAAAA,WAAW,EAAE;AACTC,IAAAA,eAAe,EAAE,qBADR;AAETC,IAAAA,OAAO,EAAE,MAFA;AAGTC,IAAAA,KAAK,EAAC,MAHG;AAITC,IAAAA,MAAM,EAAE,MAJC;AAKTC,IAAAA,UAAU,EAAE,QALH;AAMTC,IAAAA,cAAc,EAAE,QANP;AAOTC,IAAAA,QAAQ,EAAE,SAPD;AAQTC,IAAAA,MAAM,EAAE;AARC;AAJwB,CAAZ,CAAD,CAA5B;AAkBA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACtC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBtB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAMuB,OAAO,GAAGhB,SAAS,EAAzB;AACA,QAAM,CAACiB,aAAD,EAAgBC,gBAAhB,IAAoCzB,QAAQ,EAAlD;AACA,QAAM;AAAC0B,IAAAA,QAAD;AAAWC,IAAAA;AAAX,MAAkBP,KAAK,CAACQ,IAA9B;;AAEA,QAAMC,kBAAkB,GAAG,MAAMC,CAAN,IAAW;AAClCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,cAAc,GAAG,IAAIC,QAAJ,CAAaC,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAb,CAAvB,CAFkC,CAIlC;;AACA,SAAK,MAAMC,CAAX,IAAgBJ,cAAhB,EAAgC;AAC5BK,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;;AACD,UAAMlC,KAAK,CAACqC,IAAN,CAAY,0CAAyCb,QAAS,IAAGC,GAAI,EAArE,EACDa,IADC,CAEE,MAAMtC,KAAK,CAAC;AACRuC,MAAAA,MAAM,EAAE,MADA;AAERC,MAAAA,GAAG,EAAG,0CAAyCf,GAAI,EAF3C;AAGRgB,MAAAA,eAAe,EAAE,aAHT;AAIRC,MAAAA,IAAI,EAAEZ,cAJE;AAKRa,MAAAA,OAAO,EAAE;AACL,kBAAU,qBADL;AAEL,wBAAgB;AAFX;AALD,KAAD,CAAL,CAUDL,IAVC,CAUI,UAAUM,QAAV,EAAoB;AACtBT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACF,IAArB;AACH,KAZC,CAFR,CAAN;AAgBH,GAxBD;;AA0BA1C,EAAAA,KAAK,CAAC6C,GAAN,CAAW,+CAA8CpB,GAAI,EAA7D,EACCa,IADD,CACM,UAAUM,QAAV,EAAoB;AAChBT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACF,IAArB;AACH,GAHP;AAOA,sBACA;AAAM,IAAA,EAAE,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEQ,oBAAC,MAAD,CACA;AADA;AAEA,IAAA,OAAO,EAAC,SAFR;AAGA,IAAA,YAAY,EAAE,MAAMtB,UAAU,CAAC,IAAD,CAH9B;AAIA,IAAA,YAAY,EAAE,MAAMA,UAAU,CAAC,KAAD,CAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMI;AAAO,IAAA,OAAO,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAED,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAEE,OAAO,CAACb,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADJ,CANJ,eAcI;AACI,IAAA,IAAI,EAAC,aADT;AAEI,IAAA,EAAE,EAAC,eAFP;AAGI,IAAA,IAAI,EAAC,aAHT;AAII,IAAA,KAAK,EAAE;AAAEE,MAAAA,OAAO,EAAE;AAAX,KAJX;AAKI,IAAA,QAAQ,EAAEiB,kBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,CAFR,CADA;AA6BH","sourcesContent":["import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Axios from \"axios\"\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        // backgroundImage: 'url(\"../../public/avatar-default.png\")'\r\n    },\r\n    avatarHover: {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.2);\",\r\n        display: \"flex\",\r\n        width:\"100%\",\r\n        height: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        position: \"absolut\",\r\n        zIndex: 1\r\n    },\r\n\r\n\r\n}));\r\n\r\nexport default function UserAvatar(props) {\r\n    const [isShown, setIsShown] = useState(false);\r\n    const classes = useStyles();\r\n    const [profileAvatar, setProfileAvatar] = useState()\r\n    const {username, _id} = props.user\r\n\r\n    const handleAvatarUpload = async e => {\r\n        e.preventDefault();\r\n        const avatarFormData = new FormData(document.getElementById(\"uploadAvatarImage\"));\r\n\r\n        // formData.append(date, username)\r\n        for (const p of avatarFormData) {\r\n            console.log(p);\r\n        }\r\n        await Axios.post(`http://localhost:3000/api/upload-image/${username}/${_id}`)\r\n            .then(\r\n                await Axios({\r\n                    method: \"POST\",\r\n                    url: `http://localhost:3000/api/upload-image/${_id}`,\r\n                    withCredentials: \"same-origin\",\r\n                    data: avatarFormData,\r\n                    headers: {\r\n                        \"Accept\": \"multipart/form-data\",\r\n                        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                })\r\n                    .then(function (response) {\r\n                        console.log(response.data);\r\n                    })\r\n            )\r\n    }\r\n \r\n    Axios.get(`http://localhost:3000/api/get-images/avatar/${_id}`)\r\n    .then(function (response) {\r\n              console.log(response.data);\r\n          })\r\n\r\n\r\n\r\n    return (\r\n    <form id=\"uploadAvatarImage\">   \r\n        {/* <img src=\"avatar.default.png\" alt=\"Avatar\" class=\"avatar\"/> */}\r\n            <Avatar \r\n            // className={classes.root}\r\n            variant=\"rounded\"\r\n            onMouseEnter={() => setIsShown(true)}\r\n            onMouseLeave={() => setIsShown(false)}\r\n            >\r\n                <label htmlFor=\"upload-button\">\r\n                    <Fade in={isShown}>\r\n                        <div className={classes.avatarHover}>\r\n                            <AddIcon />\r\n                        </div>\r\n                    </Fade>\r\n                </label>\r\n\r\n                <input\r\n                    type=\"uploadImage\"\r\n                    id=\"upload-button\"\r\n                    name=\"uploadImage\"\r\n                    style={{ display: \"none\" }}\r\n                    onChange={handleAvatarUpload}\r\n                />\r\n\r\n            </Avatar>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}