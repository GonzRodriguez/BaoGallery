{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gon_w\\\\Desktop\\\\Coding\\\\BaoGallery\\\\src\\\\components\\\\Dashboard\\\\createPost.jsx\";\nimport React, { useState } from \"react\";\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles, Card, Fab, CardMedia, CardContent, Box, Grid, Container, CardActionArea, CardActions } from '@material-ui/core';\nimport CreatePostForm from \"./CreatePostForm\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    borderRadius: \"0\"\n  },\n  img: {},\n  margin: {\n    margin: theme.spacing(1)\n  },\n  card: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    masWidth: \"100%\"\n  },\n  input: {\n    margin: 0\n  }\n}));\nexport default function CreatePost() {\n  const [images, setImages] = useState([]);\n  const classes = useStyles();\n  const arrayOfImages = [];\n\n  class Image {\n    constructor(base64Data) {\n      this.base64Data = base64Data;\n    }\n\n  }\n\n  const handleChange = async e => {\n    await Array.from(e.target.files).forEach(file => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onloadend = () => {\n        if (reader.readyState === 2) {\n          const image = new Image(reader.result);\n          arrayOfImages.push(image);\n          setImages(prevImages => prevImages.concat(reader.result));\n          return arrayOfImages;\n        }\n      };\n    });\n  };\n\n  const cardCustom = images.map(image => {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardMedia, {\n      component: \"img\",\n      alt: \"image\",\n      height: \"140vh\",\n      className: classes.img,\n      image: image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, cardCustom, images.length > 0 && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    m: 2,\n    p: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.card,\n    p: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CreatePostForm, {\n    images: images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    m: 2,\n    p: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"upload-image-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Fab, {\n    color: \"secondary\",\n    \"aria-label\": \"add\",\n    component: \"span\",\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"upload-image-button\",\n    name: \"uploadImage\",\n    multiple: true,\n    style: {\n      display: \"none\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/gon_w/Desktop/Coding/BaoGallery/src/components/Dashboard/createPost.jsx"],"names":["React","useState","AddIcon","makeStyles","Card","Fab","CardMedia","CardContent","Box","Grid","Container","CardActionArea","CardActions","CreatePostForm","useStyles","theme","root","display","alignItems","borderRadius","img","margin","spacing","card","justifyContent","masWidth","input","CreatePost","images","setImages","classes","arrayOfImages","Image","constructor","base64Data","handleChange","e","Array","from","target","files","forEach","file","reader","FileReader","readAsDataURL","onloadend","readyState","image","result","push","prevImages","concat","cardCustom","map","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles, Card, Fab, CardMedia, CardContent, Box, Grid, Container, CardActionArea, CardActions } from '@material-ui/core';\r\nimport CreatePostForm from \"./CreatePostForm\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      borderRadius: \"0\"\r\n    },\r\n    img: {\r\n    },\r\n    margin: {\r\n    margin: theme.spacing(1),\r\n    },\r\n    card: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      masWidth: \"100%\"\r\n    },\r\n    input: {\r\n      margin: 0,\r\n\r\n    }\r\n\r\n}));\r\n\r\nexport default function CreatePost() {\r\n  const [images, setImages] = useState([]);\r\n  const classes = useStyles();\r\n  const arrayOfImages = []\r\n  class Image { constructor(base64Data){ this.base64Data = base64Data }\r\n }\r\n  const handleChange = async e => {\r\n       await Array.from(e.target.files).forEach(file => { \r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file)\r\n        reader.onloadend = () => {\r\n          if (reader.readyState === 2) {\r\n            const image = new Image(reader.result)\r\n            arrayOfImages.push(image)\r\n            setImages(prevImages => prevImages.concat(reader.result))\r\n            return arrayOfImages\r\n          }\r\n        }\r\n      })\r\n    }\r\n  \r\n\r\n  const cardCustom = images.map(image => {\r\n    return (\r\n      <Grid item xs={3}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt=\"image\"\r\n          height=\"140vh\"\r\n          className={classes.img}\r\n          image={image}\r\n        />\r\n        </Grid>\r\n    )\r\n  })\r\n\r\n \r\n  return (\r\n    <Container >\r\n      <Grid container justify=\"center\" spacing={2}>\r\n              {cardCustom}\r\n          {images.length > 0 && \r\n        <Grid item xs={6}>\r\n          <Card className={classes.card} m={2} p={1}>\r\n            <Box className={classes.card} p={1}>\r\n                  <CreatePostForm images={images}/>\r\n            </Box>\r\n          </Card>\r\n        </Grid>}\r\n      </Grid>\r\n\r\n      <Box display=\"flex\" justifyContent=\"flex-end\" m={2} p={1}>\r\n          <label htmlFor=\"upload-image-button\"> \r\n            <Fab color=\"secondary\" aria-label=\"add\" component=\"span\" className={classes.margin}>\r\n              <AddIcon />\r\n            </Fab>      \r\n          </label>\r\n      </Box>\r\n      <input\r\n        type=\"file\"\r\n        id=\"upload-image-button\"\r\n        name=\"uploadImage\"\r\n        multiple\r\n        style={{ display: \"none\" }}\r\n        onChange={handleChange}\r\n      />\r\n    </Container>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}